{"version":3,"file":"vendors-node_modules_react-dnd-html5-backend_dist_index_js.ba360eabf737efcf8bfa.js","mappings":"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","sources":["webpack://metanno/./node_modules/react-dnd-html5-backend/src/BrowserDetector.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/EnterLeaveCounter.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/HTML5BackendImpl.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/MonotonicInterpolant.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/NativeDragSources/NativeDragSource.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/NativeDragSources/getDataFromDataTransfer.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/NativeDragSources/index.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/NativeDragSources/nativeTypesConfig.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/NativeTypes.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/OffsetUtils.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/OptionsReader.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/getEmptyImage.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/index.ts","webpack://metanno/./node_modules/react-dnd-html5-backend/src/utils/js_utils.ts"],"sourcesContent":["import { memoize } from './utils/js_utils.js'\n\ndeclare global {\n\tinterface Window extends HTMLElement {\n\t\tsafari: any\n\t}\n}\n\nexport type Predicate = () => boolean\nexport const isFirefox: Predicate = memoize(() =>\n\t/firefox/i.test(navigator.userAgent),\n)\nexport const isSafari: Predicate = memoize(() => Boolean(window.safari))\n","import { union, without } from './utils/js_utils.js'\n\ntype NodePredicate = (node: Node | null | undefined) => boolean\n\nexport class EnterLeaveCounter {\n\tprivate entered: any[] = []\n\tprivate isNodeInDocument: NodePredicate\n\n\tpublic constructor(isNodeInDocument: NodePredicate) {\n\t\tthis.isNodeInDocument = isNodeInDocument\n\t}\n\n\tpublic enter(enteringNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tconst isNodeEntered = (node: Node): boolean =>\n\t\t\tthis.isNodeInDocument(node) &&\n\t\t\t(!node.contains || node.contains(enteringNode as Node))\n\n\t\tthis.entered = union(this.entered.filter(isNodeEntered), [enteringNode])\n\n\t\treturn previousLength === 0 && this.entered.length > 0\n\t}\n\n\tpublic leave(leavingNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tthis.entered = without(\n\t\t\tthis.entered.filter(this.isNodeInDocument),\n\t\t\tleavingNode,\n\t\t)\n\n\t\treturn previousLength > 0 && this.entered.length === 0\n\t}\n\n\tpublic reset(): void {\n\t\tthis.entered = []\n\t}\n}\n","import type {\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter.js'\nimport {\n\tcreateNativeDragSource,\n\tmatchNativeItemType,\n} from './NativeDragSources/index.js'\nimport type { NativeDragSource } from './NativeDragSources/NativeDragSource.js'\nimport * as NativeTypes from './NativeTypes.js'\nimport {\n\tgetDragPreviewOffset,\n\tgetEventClientOffset,\n\tgetNodeClientOffset,\n} from './OffsetUtils.js'\nimport { OptionsReader } from './OptionsReader.js'\nimport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\ntype RootNode = Node & { __isReactDndBackendSetUp: boolean | undefined }\n\nexport class HTML5BackendImpl implements Backend {\n\tprivate options: OptionsReader\n\n\t// React-Dnd Components\n\tprivate actions: DragDropActions\n\tprivate monitor: DragDropMonitor\n\tprivate registry: HandlerRegistry\n\n\t// Internal State\n\tprivate enterLeaveCounter: EnterLeaveCounter\n\n\tprivate sourcePreviewNodes: Map<string, Element> = new Map()\n\tprivate sourcePreviewNodeOptions: Map<string, any> = new Map()\n\tprivate sourceNodes: Map<string, Element> = new Map()\n\tprivate sourceNodeOptions: Map<string, any> = new Map()\n\n\tprivate dragStartSourceIds: string[] | null = null\n\tprivate dropTargetIds: string[] = []\n\tprivate dragEnterTargetIds: string[] = []\n\tprivate currentNativeSource: NativeDragSource | null = null\n\tprivate currentNativeHandle: Identifier | null = null\n\tprivate currentDragSourceNode: Element | null = null\n\tprivate altKeyPressed = false\n\tprivate mouseMoveTimeoutTimer: number | null = null\n\tprivate asyncEndDragFrameId: number | null = null\n\tprivate dragOverTargetIds: string[] | null = null\n\n\tprivate lastClientOffset: XYCoord | null = null\n\tprivate hoverRafId: number | null = null\n\n\tpublic constructor(\n\t\tmanager: DragDropManager,\n\t\tglobalContext?: HTML5BackendContext,\n\t\toptions?: HTML5BackendOptions,\n\t) {\n\t\tthis.options = new OptionsReader(globalContext, options)\n\t\tthis.actions = manager.getActions()\n\t\tthis.monitor = manager.getMonitor()\n\t\tthis.registry = manager.getRegistry()\n\t\tthis.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument)\n\t}\n\n\t/**\n\t * Generate profiling statistics for the HTML5Backend.\n\t */\n\tpublic profile(): Record<string, number> {\n\t\treturn {\n\t\t\tsourcePreviewNodes: this.sourcePreviewNodes.size,\n\t\t\tsourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n\t\t\tsourceNodeOptions: this.sourceNodeOptions.size,\n\t\t\tsourceNodes: this.sourceNodes.size,\n\t\t\tdragStartSourceIds: this.dragStartSourceIds?.length || 0,\n\t\t\tdropTargetIds: this.dropTargetIds.length,\n\t\t\tdragEnterTargetIds: this.dragEnterTargetIds.length,\n\t\t\tdragOverTargetIds: this.dragOverTargetIds?.length || 0,\n\t\t}\n\t}\n\n\t// public for test\n\tpublic get window(): Window | undefined {\n\t\treturn this.options.window\n\t}\n\tpublic get document(): Document | undefined {\n\t\treturn this.options.document\n\t}\n\t/**\n\t * Get the root element to use for event subscriptions\n\t */\n\tprivate get rootElement(): Node | undefined {\n\t\treturn this.options.rootElement as Node\n\t}\n\n\tpublic setup(): void {\n\t\tconst root = this.rootElement as RootNode | undefined\n\t\tif (root === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\tif (root.__isReactDndBackendSetUp) {\n\t\t\tthrow new Error('Cannot have two HTML5 backends at the same time.')\n\t\t}\n\t\troot.__isReactDndBackendSetUp = true\n\t\tthis.addEventListeners(root)\n\t}\n\n\tpublic teardown(): void {\n\t\tconst root = this.rootElement as RootNode\n\t\tif (root === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\troot.__isReactDndBackendSetUp = false\n\t\tthis.removeEventListeners(this.rootElement as Element)\n\t\tthis.clearCurrentDragSourceNode()\n\t\tif (this.asyncEndDragFrameId) {\n\t\t\tthis.window?.cancelAnimationFrame(this.asyncEndDragFrameId)\n\t\t}\n\t}\n\n\tpublic connectDragPreview(\n\t\tsourceId: string,\n\t\tnode: Element,\n\t\toptions: any,\n\t): Unsubscribe {\n\t\tthis.sourcePreviewNodeOptions.set(sourceId, options)\n\t\tthis.sourcePreviewNodes.set(sourceId, node)\n\n\t\treturn (): void => {\n\t\t\tthis.sourcePreviewNodes.delete(sourceId)\n\t\t\tthis.sourcePreviewNodeOptions.delete(sourceId)\n\t\t}\n\t}\n\n\tpublic connectDragSource(\n\t\tsourceId: string,\n\t\tnode: Element,\n\t\toptions: any,\n\t): Unsubscribe {\n\t\tthis.sourceNodes.set(sourceId, node)\n\t\tthis.sourceNodeOptions.set(sourceId, options)\n\n\t\tconst handleDragStart = (e: any) => this.handleDragStart(e, sourceId)\n\t\tconst handleSelectStart = (e: any) => this.handleSelectStart(e)\n\n\t\tnode.setAttribute('draggable', 'true')\n\t\tnode.addEventListener('dragstart', handleDragStart)\n\t\tnode.addEventListener('selectstart', handleSelectStart)\n\n\t\treturn (): void => {\n\t\t\tthis.sourceNodes.delete(sourceId)\n\t\t\tthis.sourceNodeOptions.delete(sourceId)\n\n\t\t\tnode.removeEventListener('dragstart', handleDragStart)\n\t\t\tnode.removeEventListener('selectstart', handleSelectStart)\n\t\t\tnode.setAttribute('draggable', 'false')\n\t\t}\n\t}\n\n\tpublic connectDropTarget(targetId: string, node: HTMLElement): Unsubscribe {\n\t\tconst handleDragEnter = (e: DragEvent) => this.handleDragEnter(e, targetId)\n\t\tconst handleDragOver = (e: DragEvent) => this.handleDragOver(e, targetId)\n\t\tconst handleDrop = (e: DragEvent) => this.handleDrop(e, targetId)\n\n\t\tnode.addEventListener('dragenter', handleDragEnter)\n\t\tnode.addEventListener('dragover', handleDragOver)\n\t\tnode.addEventListener('drop', handleDrop)\n\n\t\treturn (): void => {\n\t\t\tnode.removeEventListener('dragenter', handleDragEnter)\n\t\t\tnode.removeEventListener('dragover', handleDragOver)\n\t\t\tnode.removeEventListener('drop', handleDrop)\n\t\t}\n\t}\n\n\tprivate addEventListeners(target: Node) {\n\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\tif (!target.addEventListener) {\n\t\t\treturn\n\t\t}\n\t\ttarget.addEventListener(\n\t\t\t'dragstart',\n\t\t\tthis.handleTopDragStart as EventListener,\n\t\t)\n\t\ttarget.addEventListener('dragstart', this.handleTopDragStartCapture, true)\n\t\ttarget.addEventListener('dragend', this.handleTopDragEndCapture, true)\n\t\ttarget.addEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnter as EventListener,\n\t\t)\n\t\ttarget.addEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnterCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener(\n\t\t\t'dragleave',\n\t\t\tthis.handleTopDragLeaveCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener('dragover', this.handleTopDragOver as EventListener)\n\t\ttarget.addEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOverCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener('drop', this.handleTopDrop as EventListener)\n\t\ttarget.addEventListener(\n\t\t\t'drop',\n\t\t\tthis.handleTopDropCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t}\n\n\tprivate removeEventListeners(target: Node) {\n\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\tif (!target.removeEventListener) {\n\t\t\treturn\n\t\t}\n\t\ttarget.removeEventListener('dragstart', this.handleTopDragStart as any)\n\t\ttarget.removeEventListener(\n\t\t\t'dragstart',\n\t\t\tthis.handleTopDragStartCapture,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener('dragend', this.handleTopDragEndCapture, true)\n\t\ttarget.removeEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnter as EventListener,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnterCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragleave',\n\t\t\tthis.handleTopDragLeaveCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOver as EventListener,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOverCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener('drop', this.handleTopDrop as EventListener)\n\t\ttarget.removeEventListener(\n\t\t\t'drop',\n\t\t\tthis.handleTopDropCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t}\n\n\tprivate getCurrentSourceNodeOptions() {\n\t\tconst sourceId = this.monitor.getSourceId() as string\n\t\tconst sourceNodeOptions = this.sourceNodeOptions.get(sourceId)\n\n\t\treturn {\n\t\t\tdropEffect: this.altKeyPressed ? 'copy' : 'move',\n\t\t\t...(sourceNodeOptions || {}),\n\t\t}\n\t}\n\n\tprivate getCurrentDropEffect() {\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\t// It makes more sense to default to 'copy' for native resources\n\t\t\treturn 'copy'\n\t\t}\n\n\t\treturn this.getCurrentSourceNodeOptions().dropEffect\n\t}\n\n\tprivate getCurrentSourcePreviewNodeOptions() {\n\t\tconst sourceId = this.monitor.getSourceId() as string\n\t\tconst sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId)\n\n\t\treturn {\n\t\t\tanchorX: 0.5,\n\t\t\tanchorY: 0.5,\n\t\t\tcaptureDraggingState: false,\n\t\t\t...(sourcePreviewNodeOptions || {}),\n\t\t}\n\t}\n\n\tprivate getSourceClientOffset = (sourceId: string): XYCoord | null => {\n\t\tconst source = this.sourceNodes.get(sourceId)\n\t\treturn (source && getNodeClientOffset(source as HTMLElement)) || null\n\t}\n\n\tprivate isDraggingNativeItem() {\n\t\tconst itemType = this.monitor.getItemType()\n\t\treturn Object.keys(NativeTypes).some(\n\t\t\t(key: string) => (NativeTypes as any)[key] === itemType,\n\t\t)\n\t}\n\n\tprivate beginDragNativeItem(type: string, dataTransfer?: DataTransfer) {\n\t\tthis.clearCurrentDragSourceNode()\n\n\t\tthis.currentNativeSource = createNativeDragSource(type, dataTransfer)\n\t\tthis.currentNativeHandle = this.registry.addSource(\n\t\t\ttype,\n\t\t\tthis.currentNativeSource,\n\t\t)\n\t\tthis.actions.beginDrag([this.currentNativeHandle])\n\t}\n\n\tprivate endDragNativeItem = (): void => {\n\t\tif (!this.isDraggingNativeItem()) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.actions.endDrag()\n\t\tif (this.currentNativeHandle) {\n\t\t\tthis.registry.removeSource(this.currentNativeHandle)\n\t\t}\n\t\tthis.currentNativeHandle = null\n\t\tthis.currentNativeSource = null\n\t}\n\n\tprivate isNodeInDocument = (node: Node | null | undefined): boolean => {\n\t\t// Check the node either in the main document or in the current context\n\t\treturn Boolean(\n\t\t\tnode &&\n\t\t\t\tthis.document &&\n\t\t\t\tthis.document.body &&\n\t\t\t\tthis.document.body.contains(node),\n\t\t)\n\t}\n\n\tprivate endDragIfSourceWasRemovedFromDOM = (): void => {\n\t\tconst node = this.currentDragSourceNode\n\t\tif (node == null || this.isNodeInDocument(node)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tprivate setCurrentDragSourceNode(node: Element | null) {\n\t\tthis.clearCurrentDragSourceNode()\n\t\tthis.currentDragSourceNode = node\n\n\t\t// A timeout of > 0 is necessary to resolve Firefox issue referenced\n\t\t// See:\n\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\tconst MOUSE_MOVE_TIMEOUT = 1000\n\n\t\t// Receiving a mouse event in the middle of a dragging operation\n\t\t// means it has ended and the drag source node disappeared from DOM,\n\t\t// so the browser didn't dispatch the dragend event.\n\t\t//\n\t\t// We need to wait before we start listening for mousemove events.\n\t\t// This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n\t\t// immediately in some browsers.\n\t\t//\n\t\t// See:\n\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\t//\n\t\tthis.mouseMoveTimeoutTimer = setTimeout(() => {\n\t\t\treturn this.rootElement?.addEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM,\n\t\t\t\ttrue,\n\t\t\t)\n\t\t}, MOUSE_MOVE_TIMEOUT) as any as number\n\t}\n\n\tprivate clearCurrentDragSourceNode() {\n\t\tif (this.currentDragSourceNode) {\n\t\t\tthis.currentDragSourceNode = null\n\n\t\t\tif (this.rootElement) {\n\t\t\t\tthis.window?.clearTimeout(this.mouseMoveTimeoutTimer || undefined)\n\t\t\t\tthis.rootElement.removeEventListener(\n\t\t\t\t\t'mousemove',\n\t\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM,\n\t\t\t\t\ttrue,\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tthis.mouseMoveTimeoutTimer = null\n\t\t\treturn true\n\t\t}\n\n\t\treturn false\n\t}\n\n\tprivate scheduleHover = (dragOverTargetIds: string[] | null) => {\n\t\tif (\n\t\t\tthis.hoverRafId === null &&\n\t\t\ttypeof requestAnimationFrame !== 'undefined'\n\t\t) {\n\t\t\tthis.hoverRafId = requestAnimationFrame(() => {\n\t\t\t\tif (this.monitor.isDragging()) {\n\t\t\t\t\tthis.actions.hover(dragOverTargetIds || [], {\n\t\t\t\t\t\tclientOffset: this.lastClientOffset,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.hoverRafId = null\n\t\t\t})\n\t\t}\n\t}\n\n\tprivate cancelHover = () => {\n\t\tif (\n\t\t\tthis.hoverRafId !== null &&\n\t\t\ttypeof cancelAnimationFrame !== 'undefined'\n\t\t) {\n\t\t\tcancelAnimationFrame(this.hoverRafId)\n\t\t\tthis.hoverRafId = null\n\t\t}\n\t}\n\n\tpublic handleTopDragStartCapture = (): void => {\n\t\tthis.clearCurrentDragSourceNode()\n\t\tthis.dragStartSourceIds = []\n\t}\n\n\tpublic handleDragStart(e: DragEvent, sourceId: string): void {\n\t\tif (e.defaultPrevented) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!this.dragStartSourceIds) {\n\t\t\tthis.dragStartSourceIds = []\n\t\t}\n\t\tthis.dragStartSourceIds.unshift(sourceId)\n\t}\n\n\tpublic handleTopDragStart = (e: DragEvent): void => {\n\t\tif (e.defaultPrevented) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { dragStartSourceIds } = this\n\t\tthis.dragStartSourceIds = null\n\n\t\tconst clientOffset = getEventClientOffset(e)\n\n\t\t// Avoid crashing if we missed a drop event or our previous drag died\n\t\tif (this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t\tthis.cancelHover()\n\t\t}\n\n\t\t// Don't publish the source just yet (see why below)\n\t\tthis.actions.beginDrag(dragStartSourceIds || [], {\n\t\t\tpublishSource: false,\n\t\t\tgetSourceClientOffset: this.getSourceClientOffset,\n\t\t\tclientOffset,\n\t\t})\n\n\t\tconst { dataTransfer } = e\n\t\tconst nativeType = matchNativeItemType(dataTransfer)\n\n\t\tif (this.monitor.isDragging()) {\n\t\t\tif (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n\t\t\t\t// Use custom drag image if user specifies it.\n\t\t\t\t// If child drag source refuses drag but parent agrees,\n\t\t\t\t// use parent's node as drag image. Neither works in IE though.\n\t\t\t\tconst sourceId: string = this.monitor.getSourceId() as string\n\t\t\t\tconst sourceNode = this.sourceNodes.get(sourceId)\n\t\t\t\tconst dragPreview = this.sourcePreviewNodes.get(sourceId) || sourceNode\n\n\t\t\t\tif (dragPreview) {\n\t\t\t\t\tconst { anchorX, anchorY, offsetX, offsetY } =\n\t\t\t\t\t\tthis.getCurrentSourcePreviewNodeOptions()\n\t\t\t\t\tconst anchorPoint = { anchorX, anchorY }\n\t\t\t\t\tconst offsetPoint = { offsetX, offsetY }\n\t\t\t\t\tconst dragPreviewOffset = getDragPreviewOffset(\n\t\t\t\t\t\tsourceNode as HTMLElement,\n\t\t\t\t\t\tdragPreview as HTMLElement,\n\t\t\t\t\t\tclientOffset,\n\t\t\t\t\t\tanchorPoint,\n\t\t\t\t\t\toffsetPoint,\n\t\t\t\t\t)\n\n\t\t\t\t\tdataTransfer.setDragImage(\n\t\t\t\t\t\tdragPreview,\n\t\t\t\t\t\tdragPreviewOffset.x,\n\t\t\t\t\t\tdragPreviewOffset.y,\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Firefox won't drag without setting data\n\t\t\t\tdataTransfer?.setData('application/json', {} as any)\n\t\t\t} catch (err) {\n\t\t\t\t// IE doesn't support MIME types in setData\n\t\t\t}\n\n\t\t\t// Store drag source node so we can check whether\n\t\t\t// it is removed from DOM and trigger endDrag manually.\n\t\t\tthis.setCurrentDragSourceNode(e.target as Element)\n\n\t\t\t// Now we are ready to publish the drag source.. or are we not?\n\t\t\tconst { captureDraggingState } = this.getCurrentSourcePreviewNodeOptions()\n\t\t\tif (!captureDraggingState) {\n\t\t\t\t// Usually we want to publish it in the next tick so that browser\n\t\t\t\t// is able to screenshot the current (not yet dragging) state.\n\t\t\t\t//\n\t\t\t\t// It also neatly avoids a situation where render() returns null\n\t\t\t\t// in the same tick for the source element, and browser freaks out.\n\t\t\t\tsetTimeout(() => this.actions.publishDragSource(), 0)\n\t\t\t} else {\n\t\t\t\t// In some cases the user may want to override this behavior, e.g.\n\t\t\t\t// to work around IE not supporting custom drag previews.\n\t\t\t\t//\n\t\t\t\t// When using a custom drag layer, the only way to prevent\n\t\t\t\t// the default drag preview from drawing in IE is to screenshot\n\t\t\t\t// the dragging state in which the node itself has zero opacity\n\t\t\t\t// and height. In this case, though, returning null from render()\n\t\t\t\t// will abruptly end the dragging, which is not obvious.\n\t\t\t\t//\n\t\t\t\t// This is the reason such behavior is strictly opt-in.\n\t\t\t\tthis.actions.publishDragSource()\n\t\t\t}\n\t\t} else if (nativeType) {\n\t\t\t// A native item (such as URL) dragged from inside the document\n\t\t\tthis.beginDragNativeItem(nativeType)\n\t\t} else if (\n\t\t\tdataTransfer &&\n\t\t\t!dataTransfer.types &&\n\t\t\t((e.target && !(e.target as Element).hasAttribute) ||\n\t\t\t\t!(e.target as Element).hasAttribute('draggable'))\n\t\t) {\n\t\t\t// Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n\t\t\t// Just let it drag. It's a native type (URL or text) and will be picked up in\n\t\t\t// dragenter handler.\n\t\t\treturn\n\t\t} else {\n\t\t\t// If by this time no drag source reacted, tell browser not to drag.\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\n\tpublic handleTopDragEndCapture = (): void => {\n\t\tif (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n\t\t\t// Firefox can dispatch this event in an infinite loop\n\t\t\t// if dragend handler does something like showing an alert.\n\t\t\t// Only proceed if we have not handled it already.\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleTopDragEnterCapture = (e: DragEvent): void => {\n\t\tthis.dragEnterTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t}\n\n\t\tconst isFirstEnter = this.enterLeaveCounter.enter(e.target)\n\t\tif (!isFirstEnter || this.monitor.isDragging()) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { dataTransfer } = e\n\t\tconst nativeType = matchNativeItemType(dataTransfer)\n\n\t\tif (nativeType) {\n\t\t\t// A native item (such as file or URL) dragged from outside the document\n\t\t\tthis.beginDragNativeItem(nativeType, dataTransfer as DataTransfer)\n\t\t}\n\t}\n\n\tpublic handleDragEnter(_e: DragEvent, targetId: string): void {\n\t\tthis.dragEnterTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDragEnter = (e: DragEvent): void => {\n\t\tconst { dragEnterTargetIds } = this\n\t\tthis.dragEnterTargetIds = []\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\t// This is probably a native item type we don't understand.\n\t\t\treturn\n\t\t}\n\n\t\tthis.altKeyPressed = e.altKey\n\n\t\t// If the target changes position as the result of `dragenter`, `dragover` might still\n\t\t// get dispatched despite target being no longer there. The easy solution is to check\n\t\t// whether there actually is a target before firing `hover`.\n\t\tif (dragEnterTargetIds.length > 0) {\n\t\t\tthis.actions.hover(dragEnterTargetIds, {\n\t\t\t\tclientOffset: getEventClientOffset(e),\n\t\t\t})\n\t\t}\n\n\t\tconst canDrop = dragEnterTargetIds.some((targetId) =>\n\t\t\tthis.monitor.canDropOnTarget(targetId),\n\t\t)\n\n\t\tif (canDrop) {\n\t\t\t// IE requires this to fire dragover events\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect()\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleTopDragOverCapture = (e: DragEvent): void => {\n\t\tthis.dragOverTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t}\n\t}\n\n\tpublic handleDragOver(_e: DragEvent, targetId: string): void {\n\t\tif (this.dragOverTargetIds === null) {\n\t\t\tthis.dragOverTargetIds = []\n\t\t}\n\t\tthis.dragOverTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDragOver = (e: DragEvent): void => {\n\t\tconst { dragOverTargetIds } = this\n\t\tthis.dragOverTargetIds = []\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\t// This is probably a native item type we don't understand.\n\t\t\t// Prevent default \"drop and blow away the whole document\" action.\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = 'none'\n\t\t\t}\n\t\t\treturn\n\t\t}\n\n\t\tthis.altKeyPressed = e.altKey\n\t\tthis.lastClientOffset = getEventClientOffset(e)\n\n\t\tthis.scheduleHover(dragOverTargetIds)\n\n\t\tconst canDrop = (dragOverTargetIds || []).some((targetId) =>\n\t\t\tthis.monitor.canDropOnTarget(targetId),\n\t\t)\n\n\t\tif (canDrop) {\n\t\t\t// Show user-specified drop effect.\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect()\n\t\t\t}\n\t\t} else if (this.isDraggingNativeItem()) {\n\t\t\t// Don't show a nice cursor but still prevent default\n\t\t\t// \"drop and blow away the whole document\" action.\n\t\t\te.preventDefault()\n\t\t} else {\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = 'none'\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleTopDragLeaveCapture = (e: DragEvent): void => {\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tconst isLastLeave = this.enterLeaveCounter.leave(e.target)\n\t\tif (!isLastLeave) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tsetTimeout(() => this.endDragNativeItem(), 0)\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleTopDropCapture = (e: DragEvent): void => {\n\t\tthis.dropTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\te.preventDefault()\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t} else if (matchNativeItemType(e.dataTransfer)) {\n\t\t\t// Dragging some elements, like <a> and <img> may still behave like a native drag event,\n\t\t\t// even if the current drag event matches a user-defined type.\n\t\t\t// Stop the default behavior when we're not expecting a native item to be dropped.\n\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tthis.enterLeaveCounter.reset()\n\t}\n\n\tpublic handleDrop(_e: DragEvent, targetId: string): void {\n\t\tthis.dropTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDrop = (e: DragEvent): void => {\n\t\tconst { dropTargetIds } = this\n\t\tthis.dropTargetIds = []\n\n\t\tthis.actions.hover(dropTargetIds, {\n\t\t\tclientOffset: getEventClientOffset(e),\n\t\t})\n\t\tthis.actions.drop({ dropEffect: this.getCurrentDropEffect() })\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.endDragNativeItem()\n\t\t} else if (this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleSelectStart = (e: DragEvent): void => {\n\t\tconst target = e.target as HTMLElement & { dragDrop: () => void }\n\n\t\t// Only IE requires us to explicitly say\n\t\t// we want drag drop operation to start\n\t\tif (typeof target.dragDrop !== 'function') {\n\t\t\treturn\n\t\t}\n\n\t\t// Inputs and textareas should be selectable\n\t\tif (\n\t\t\ttarget.tagName === 'INPUT' ||\n\t\t\ttarget.tagName === 'SELECT' ||\n\t\t\ttarget.tagName === 'TEXTAREA' ||\n\t\t\ttarget.isContentEditable\n\t\t) {\n\t\t\treturn\n\t\t}\n\n\t\t// For other targets, ask IE\n\t\t// to enable drag and drop\n\t\te.preventDefault()\n\t\ttarget.dragDrop()\n\t}\n}\n","export class MonotonicInterpolant {\n\tprivate xs: any\n\tprivate ys: any\n\tprivate c1s: any\n\tprivate c2s: any\n\tprivate c3s: any\n\n\tpublic constructor(xs: number[], ys: number[]) {\n\t\tconst { length } = xs\n\n\t\t// Rearrange xs and ys so that xs is sorted\n\t\tconst indexes = []\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tindexes.push(i)\n\t\t}\n\t\tindexes.sort((a, b) => ((xs[a] as number) < (xs[b] as number) ? -1 : 1))\n\n\t\t// Get consecutive differences and slopes\n\t\tconst dys = []\n\t\tconst dxs = []\n\t\tconst ms = []\n\t\tlet dx\n\t\tlet dy\n\t\tfor (let i = 0; i < length - 1; i++) {\n\t\t\tdx = (xs[i + 1] as number) - (xs[i] as number)\n\t\t\tdy = (ys[i + 1] as number) - (ys[i] as number)\n\t\t\tdxs.push(dx)\n\t\t\tdys.push(dy)\n\t\t\tms.push(dy / dx)\n\t\t}\n\n\t\t// Get degree-1 coefficients\n\t\tconst c1s = [ms[0]]\n\t\tfor (let i = 0; i < dxs.length - 1; i++) {\n\t\t\tconst m2 = ms[i] as number\n\t\t\tconst mNext = ms[i + 1] as number\n\t\t\tif (m2 * mNext <= 0) {\n\t\t\t\tc1s.push(0)\n\t\t\t} else {\n\t\t\t\tdx = dxs[i] as number\n\t\t\t\tconst dxNext = dxs[i + 1] as number\n\t\t\t\tconst common = dx + dxNext\n\t\t\t\tc1s.push(\n\t\t\t\t\t(3 * common) / ((common + dxNext) / m2 + (common + dx) / mNext),\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tc1s.push(ms[ms.length - 1])\n\n\t\t// Get degree-2 and degree-3 coefficients\n\t\tconst c2s = []\n\t\tconst c3s = []\n\t\tlet m\n\t\tfor (let i = 0; i < c1s.length - 1; i++) {\n\t\t\tm = ms[i] as number\n\t\t\tconst c1 = c1s[i] as number\n\t\t\tconst invDx = 1 / (dxs[i] as number)\n\t\t\tconst common = c1 + (c1s[i + 1] as number) - m - m\n\t\t\tc2s.push((m - c1 - common) * invDx)\n\t\t\tc3s.push(common * invDx * invDx)\n\t\t}\n\n\t\tthis.xs = xs\n\t\tthis.ys = ys\n\t\tthis.c1s = c1s\n\t\tthis.c2s = c2s\n\t\tthis.c3s = c3s\n\t}\n\n\tpublic interpolate(x: number): number {\n\t\tconst { xs, ys, c1s, c2s, c3s } = this\n\n\t\t// The rightmost point in the dataset should give an exact result\n\t\tlet i = xs.length - 1\n\t\tif (x === xs[i]) {\n\t\t\treturn ys[i]\n\t\t}\n\n\t\t// Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\t\tlet low = 0\n\t\tlet high = c3s.length - 1\n\t\tlet mid\n\t\twhile (low <= high) {\n\t\t\tmid = Math.floor(0.5 * (low + high))\n\t\t\tconst xHere = xs[mid]\n\t\t\tif (xHere < x) {\n\t\t\t\tlow = mid + 1\n\t\t\t} else if (xHere > x) {\n\t\t\t\thigh = mid - 1\n\t\t\t} else {\n\t\t\t\treturn ys[mid]\n\t\t\t}\n\t\t}\n\t\ti = Math.max(0, high)\n\n\t\t// Interpolate\n\t\tconst diff = x - xs[i]\n\t\tconst diffSq = diff * diff\n\t\treturn ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq\n\t}\n}\n","import type { DragDropMonitor } from 'dnd-core'\n\nimport type { NativeItemConfig } from './nativeTypesConfig.js'\n\nexport class NativeDragSource {\n\tpublic item: any\n\tprivate config: NativeItemConfig\n\n\tpublic constructor(config: NativeItemConfig) {\n\t\tthis.config = config\n\t\tthis.item = {}\n\t\tthis.initializeExposedProperties()\n\t}\n\n\tprivate initializeExposedProperties() {\n\t\tObject.keys(this.config.exposeProperties).forEach((property) => {\n\t\t\tObject.defineProperty(this.item, property, {\n\t\t\t\tconfigurable: true, // This is needed to allow redefining it later\n\t\t\t\tenumerable: true,\n\t\t\t\tget() {\n\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t`Browser doesn't allow reading \"${property}\" until the drop event.`,\n\t\t\t\t\t)\n\t\t\t\t\treturn null\n\t\t\t\t},\n\t\t\t})\n\t\t})\n\t}\n\n\tpublic loadDataTransfer(dataTransfer: DataTransfer | null | undefined): void {\n\t\tif (dataTransfer) {\n\t\t\tconst newProperties: PropertyDescriptorMap = {}\n\t\t\tObject.keys(this.config.exposeProperties).forEach((property) => {\n\t\t\t\tconst propertyFn = this.config.exposeProperties[property]\n\t\t\t\tif (propertyFn != null) {\n\t\t\t\t\tnewProperties[property] = {\n\t\t\t\t\t\tvalue: propertyFn(dataTransfer, this.config.matchesTypes),\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tObject.defineProperties(this.item, newProperties)\n\t\t}\n\t}\n\n\tpublic canDrag(): boolean {\n\t\treturn true\n\t}\n\n\tpublic beginDrag(): any {\n\t\treturn this.item\n\t}\n\n\tpublic isDragging(monitor: DragDropMonitor, handle: string): boolean {\n\t\treturn handle === monitor.getSourceId()\n\t}\n\n\tpublic endDrag(): void {\n\t\t// empty\n\t}\n}\n","export function getDataFromDataTransfer(\n\tdataTransfer: DataTransfer,\n\ttypesToTry: string[],\n\tdefaultValue: string,\n): string {\n\tconst result = typesToTry.reduce(\n\t\t(resultSoFar, typeToTry) => resultSoFar || dataTransfer.getData(typeToTry),\n\t\t'',\n\t)\n\n\treturn result != null ? result : defaultValue\n}\n","import { NativeDragSource } from './NativeDragSource.js'\nimport { nativeTypesConfig } from './nativeTypesConfig.js'\n\nexport function createNativeDragSource(\n\ttype: string,\n\tdataTransfer?: DataTransfer,\n): NativeDragSource {\n\tconst config = nativeTypesConfig[type]\n\tif (!config) {\n\t\tthrow new Error(`native type ${type} has no configuration`)\n\t}\n\tconst result = new NativeDragSource(config)\n\tresult.loadDataTransfer(dataTransfer)\n\treturn result\n}\n\nexport function matchNativeItemType(\n\tdataTransfer: DataTransfer | null,\n): string | null {\n\tif (!dataTransfer) {\n\t\treturn null\n\t}\n\n\tconst dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || [])\n\treturn (\n\t\tObject.keys(nativeTypesConfig).filter((nativeItemType) => {\n\t\t\tconst typeConfig = nativeTypesConfig[nativeItemType]\n\t\t\tif (!typeConfig?.matchesTypes) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn typeConfig.matchesTypes.some(\n\t\t\t\t(t) => dataTransferTypes.indexOf(t) > -1,\n\t\t\t)\n\t\t})[0] || null\n\t)\n}\n","import * as NativeTypes from '../NativeTypes.js'\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer.js'\n\nexport interface NativeItemConfigExposePropreties {\n\t[property: string]: (\n\t\tdataTransfer: DataTransfer,\n\t\tmatchesTypes: string[],\n\t) => any\n}\n\nexport interface NativeItemConfig {\n\texposeProperties: NativeItemConfigExposePropreties\n\tmatchesTypes: string[]\n}\n\nexport const nativeTypesConfig: {\n\t[key: string]: NativeItemConfig\n} = {\n\t[NativeTypes.FILE]: {\n\t\texposeProperties: {\n\t\t\tfiles: (dataTransfer: DataTransfer): File[] =>\n\t\t\t\tArray.prototype.slice.call(dataTransfer.files),\n\t\t\titems: (dataTransfer: DataTransfer): DataTransferItemList =>\n\t\t\t\tdataTransfer.items,\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Files'],\n\t},\n\t[NativeTypes.HTML]: {\n\t\texposeProperties: {\n\t\t\thtml: (dataTransfer: DataTransfer, matchesTypes: string[]): string =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Html', 'text/html'],\n\t},\n\t[NativeTypes.URL]: {\n\t\texposeProperties: {\n\t\t\turls: (dataTransfer: DataTransfer, matchesTypes: string[]): string[] =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n'),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Url', 'text/uri-list'],\n\t},\n\t[NativeTypes.TEXT]: {\n\t\texposeProperties: {\n\t\t\ttext: (dataTransfer: DataTransfer, matchesTypes: string[]): string =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Text', 'text/plain'],\n\t},\n}\n","export const FILE = '__NATIVE_FILE__'\nexport const URL = '__NATIVE_URL__'\nexport const TEXT = '__NATIVE_TEXT__'\nexport const HTML = '__NATIVE_HTML__'\n","import type { XYCoord } from 'dnd-core'\n\nimport { isFirefox, isSafari } from './BrowserDetector.js'\nimport { MonotonicInterpolant } from './MonotonicInterpolant.js'\n\nconst ELEMENT_NODE = 1\n\nexport function getNodeClientOffset(node: Node): XYCoord | null {\n\tconst el = node.nodeType === ELEMENT_NODE ? node : node.parentElement\n\n\tif (!el) {\n\t\treturn null\n\t}\n\n\tconst { top, left } = (el as HTMLElement).getBoundingClientRect()\n\treturn { x: left, y: top }\n}\n\nexport function getEventClientOffset(e: MouseEvent): XYCoord {\n\treturn {\n\t\tx: e.clientX,\n\t\ty: e.clientY,\n\t}\n}\n\nfunction isImageNode(node: any) {\n\treturn (\n\t\tnode.nodeName === 'IMG' &&\n\t\t(isFirefox() || !document.documentElement?.contains(node))\n\t)\n}\n\nfunction getDragPreviewSize(\n\tisImage: boolean,\n\tdragPreview: any,\n\tsourceWidth: number,\n\tsourceHeight: number,\n) {\n\tlet dragPreviewWidth = isImage ? dragPreview.width : sourceWidth\n\tlet dragPreviewHeight = isImage ? dragPreview.height : sourceHeight\n\n\t// Work around @2x coordinate discrepancies in browsers\n\tif (isSafari() && isImage) {\n\t\tdragPreviewHeight /= window.devicePixelRatio\n\t\tdragPreviewWidth /= window.devicePixelRatio\n\t}\n\treturn { dragPreviewWidth, dragPreviewHeight }\n}\n\nexport function getDragPreviewOffset(\n\tsourceNode: HTMLElement,\n\tdragPreview: HTMLElement,\n\tclientOffset: XYCoord,\n\tanchorPoint: { anchorX: number; anchorY: number },\n\toffsetPoint: { offsetX: number; offsetY: number },\n): XYCoord {\n\t// The browsers will use the image intrinsic size under different conditions.\n\t// Firefox only cares if it's an image, but WebKit also wants it to be detached.\n\tconst isImage = isImageNode(dragPreview)\n\tconst dragPreviewNode = isImage ? sourceNode : dragPreview\n\tconst dragPreviewNodeOffsetFromClient = getNodeClientOffset(\n\t\tdragPreviewNode,\n\t) as XYCoord\n\tconst offsetFromDragPreview = {\n\t\tx: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n\t\ty: clientOffset.y - dragPreviewNodeOffsetFromClient.y,\n\t}\n\tconst { offsetWidth: sourceWidth, offsetHeight: sourceHeight } = sourceNode\n\tconst { anchorX, anchorY } = anchorPoint\n\tconst { dragPreviewWidth, dragPreviewHeight } = getDragPreviewSize(\n\t\tisImage,\n\t\tdragPreview,\n\t\tsourceWidth,\n\t\tsourceHeight,\n\t)\n\n\tconst calculateYOffset = () => {\n\t\tconst interpolantY = new MonotonicInterpolant(\n\t\t\t[0, 0.5, 1],\n\t\t\t[\n\t\t\t\t// Dock to the top\n\t\t\t\toffsetFromDragPreview.y,\n\t\t\t\t// Align at the center\n\t\t\t\t(offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,\n\t\t\t\t// Dock to the bottom\n\t\t\t\toffsetFromDragPreview.y + dragPreviewHeight - sourceHeight,\n\t\t\t],\n\t\t)\n\t\tlet y = interpolantY.interpolate(anchorY)\n\t\t// Work around Safari 8 positioning bug\n\t\tif (isSafari() && isImage) {\n\t\t\t// We'll have to wait for @3x to see if this is entirely correct\n\t\t\ty += (window.devicePixelRatio - 1) * dragPreviewHeight\n\t\t}\n\t\treturn y\n\t}\n\n\tconst calculateXOffset = () => {\n\t\t// Interpolate coordinates depending on anchor point\n\t\t// If you know a simpler way to do this, let me know\n\t\tconst interpolantX = new MonotonicInterpolant(\n\t\t\t[0, 0.5, 1],\n\t\t\t[\n\t\t\t\t// Dock to the left\n\t\t\t\toffsetFromDragPreview.x,\n\t\t\t\t// Align at the center\n\t\t\t\t(offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,\n\t\t\t\t// Dock to the right\n\t\t\t\toffsetFromDragPreview.x + dragPreviewWidth - sourceWidth,\n\t\t\t],\n\t\t)\n\t\treturn interpolantX.interpolate(anchorX)\n\t}\n\n\t// Force offsets if specified in the options.\n\tconst { offsetX, offsetY } = offsetPoint\n\tconst isManualOffsetX = offsetX === 0 || offsetX\n\tconst isManualOffsetY = offsetY === 0 || offsetY\n\treturn {\n\t\tx: isManualOffsetX ? offsetX : calculateXOffset(),\n\t\ty: isManualOffsetY ? offsetY : calculateYOffset(),\n\t}\n}\n","import type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\nexport class OptionsReader {\n\tpublic ownerDocument: Document | null = null\n\tprivate globalContext: HTML5BackendContext\n\tprivate optionsArgs: HTML5BackendOptions | undefined\n\n\tpublic constructor(\n\t\tglobalContext: HTML5BackendContext,\n\t\toptions?: HTML5BackendOptions,\n\t) {\n\t\tthis.globalContext = globalContext\n\t\tthis.optionsArgs = options\n\t}\n\n\tpublic get window(): Window | undefined {\n\t\tif (this.globalContext) {\n\t\t\treturn this.globalContext\n\t\t} else if (typeof window !== 'undefined') {\n\t\t\treturn window\n\t\t}\n\t\treturn undefined\n\t}\n\n\tpublic get document(): Document | undefined {\n\t\tif (this.globalContext?.document) {\n\t\t\treturn this.globalContext.document\n\t\t} else if (this.window) {\n\t\t\treturn this.window.document\n\t\t} else {\n\t\t\treturn undefined\n\t\t}\n\t}\n\n\tpublic get rootElement(): Node | undefined {\n\t\treturn this.optionsArgs?.rootElement || this.window\n\t}\n}\n","let emptyImage: HTMLImageElement | undefined\n\nexport function getEmptyImage(): HTMLImageElement {\n\tif (!emptyImage) {\n\t\temptyImage = new Image()\n\t\temptyImage.src =\n\t\t\t'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='\n\t}\n\n\treturn emptyImage\n}\n","import type { BackendFactory, DragDropManager } from 'dnd-core'\n\nimport { HTML5BackendImpl } from './HTML5BackendImpl.js'\nimport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\nexport { getEmptyImage } from './getEmptyImage.js'\nexport * as NativeTypes from './NativeTypes.js'\nexport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\nexport const HTML5Backend: BackendFactory = function createBackend(\n\tmanager: DragDropManager,\n\tcontext?: HTML5BackendContext,\n\toptions?: HTML5BackendOptions,\n): HTML5BackendImpl {\n\treturn new HTML5BackendImpl(manager, context, options)\n}\n","// cheap lodash replacements\n\nexport function memoize<T>(fn: () => T): () => T {\n\tlet result: T | null = null\n\tconst memoized = () => {\n\t\tif (result == null) {\n\t\t\tresult = fn()\n\t\t}\n\t\treturn result\n\t}\n\treturn memoized\n}\n\n/**\n * drop-in replacement for _.without\n */\nexport function without<T>(items: T[], item: T) {\n\treturn items.filter((i) => i !== item)\n}\n\nexport function union<T extends string | number>(itemsA: T[], itemsB: T[]) {\n\tconst set = new Set<T>()\n\tconst insertItem = (item: T) => set.add(item)\n\titemsA.forEach(insertItem)\n\titemsB.forEach(insertItem)\n\n\tconst result: T[] = []\n\tset.forEach((key) => result.push(key))\n\treturn result\n}\n"],"names":["memoize","isFirefox","test","navigator","userAgent","isSafari","Boolean","window","safari","union","without","EnterLeaveCounter","enter","enteringNode","previousLength","entered","length","isNodeEntered","node","isNodeInDocument","contains","filter","leave","leavingNode","reset","createNativeDragSource","matchNativeItemType","NativeTypes","getDragPreviewOffset","getEventClientOffset","getNodeClientOffset","OptionsReader","HTML5BackendImpl","profile","sourcePreviewNodes","size","sourcePreviewNodeOptions","sourceNodeOptions","sourceNodes","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","dragOverTargetIds","options","document","rootElement","setup","root","undefined","__isReactDndBackendSetUp","Error","addEventListeners","teardown","removeEventListeners","clearCurrentDragSourceNode","asyncEndDragFrameId","cancelAnimationFrame","connectDragPreview","sourceId","set","delete","connectDragSource","handleDragStart","e","handleSelectStart","setAttribute","addEventListener","removeEventListener","connectDropTarget","targetId","handleDragEnter","handleDragOver","handleDrop","target","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","monitor","getSourceId","get","dropEffect","altKeyPressed","getCurrentDropEffect","isDraggingNativeItem","getCurrentSourcePreviewNodeOptions","anchorX","anchorY","captureDraggingState","itemType","getItemType","Object","keys","some","key","beginDragNativeItem","type","dataTransfer","currentNativeSource","currentNativeHandle","registry","addSource","actions","beginDrag","setCurrentDragSourceNode","currentDragSourceNode","MOUSE_MOVE_TIMEOUT","mouseMoveTimeoutTimer","setTimeout","endDragIfSourceWasRemovedFromDOM","clearTimeout","defaultPrevented","unshift","_e","manager","globalContext","Map","lastClientOffset","hoverRafId","getSourceClientOffset","source","endDragNativeItem","endDrag","removeSource","body","isDragging","cancelHover","scheduleHover","requestAnimationFrame","hover","clientOffset","publishSource","nativeType","setDragImage","sourceNode","dragPreview","offsetX","offsetY","anchorPoint","offsetPoint","dragPreviewOffset","x","y","setData","err","publishDragSource","types","hasAttribute","preventDefault","loadDataTransfer","isFirstEnter","enterLeaveCounter","altKey","canDrop","canDropOnTarget","isLastLeave","drop","dragDrop","tagName","isContentEditable","getActions","getMonitor","getRegistry","MonotonicInterpolant","interpolate","xs","ys","c1s","c2s","c3s","i","low","high","mid","Math","floor","xHere","max","diff","diffSq","indexes","push","sort","a","b","dys","dxs","ms","dx","dy","m2","mNext","dxNext","common","m","c1","invDx","NativeDragSource","initializeExposedProperties","config","exposeProperties","forEach","property","defineProperty","item","configurable","enumerable","console","warn","newProperties","propertyFn","value","matchesTypes","defineProperties","canDrag","handle","getDataFromDataTransfer","typesToTry","defaultValue","result","reduce","resultSoFar","typeToTry","getData","nativeTypesConfig","dataTransferTypes","Array","prototype","slice","call","nativeItemType","typeConfig","t","indexOf","FILE","files","items","HTML","html","URL","urls","split","TEXT","text","ELEMENT_NODE","el","nodeType","parentElement","top","left","getBoundingClientRect","clientX","clientY","isImageNode","nodeName","documentElement","getDragPreviewSize","isImage","sourceWidth","sourceHeight","dragPreviewWidth","width","dragPreviewHeight","height","devicePixelRatio","dragPreviewNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","offsetWidth","offsetHeight","calculateYOffset","interpolantY","calculateXOffset","interpolantX","isManualOffsetX","isManualOffsetY","optionsArgs","ownerDocument","emptyImage","getEmptyImage","Image","src","HTML5Backend","createBackend","context","fn","memoized","itemsA","itemsB","Set","insertItem","add"],"sourceRoot":""}