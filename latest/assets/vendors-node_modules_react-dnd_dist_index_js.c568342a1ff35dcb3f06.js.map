{"version":3,"file":"vendors-node_modules_react-dnd_dist_index_js.c568342a1ff35dcb3f06.js","mappings":"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AAO,CAACE,UAAU,CAAC,GAC7B,UAAW,CAAkB+J,IAAI,CAAC,CAACvS,CAAC,GAAKA,CAAC,KAAKgI,eAAe;IAAA,CAAC,GAC/DQ,UAAU,KAAKR,eAAe;CACjC;;;;;;;;;;;;;ACZY;;AAEb;;;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,UAAU;AACjC;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,UAAU;AAC/B;;AAEA,qBAAqB,UAAU;AAC/B;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;AC7CA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,MAAM;AACN;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;;AAEA;;AAEA;AACA;AACA;AA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,KAAK,QAAQ,EAC/B,sEAAsE,GACrE,sFAAsF,GACtF,yEAAyE,CAC1E;IAED,IAAI,CAACA,WAAW,EAAE;QACjB,gEAAgE;QAChE,OAAOf,mDAAY,CAACG,OAAO,EAAE;YAC5BK,GAAG,EAAEM,MAAM;SACX,CAAC;KACF,MAAM;QACN,OAAOd,mDAAY,CAACG,OAAO,EAAE;YAC5BK,GAAG,EAAE,CAACxa,IAAS,GAAK;gBACnB6a,MAAM,CAACE,WAAW,EAAE/a,IAAI,CAAC;gBACzB6a,MAAM,CAACC,MAAM,EAAE9a,IAAI,CAAC;aACpB;SACD,CAAC;KACF;CACD;;;;;;;;;;;;;;;;;;AC5FoE;;AAErE;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA,8CAA8C;AAC9C;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,MAAM,IAAqC;AAC3C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mCAAmC;AAChD;AACA;;AAEA;AACA;;AAEA;AACA,oBAAoB,MAAqC,GAAG,CAAyB;AACrF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA;;AAEA;AACA,oBAAoB,MAAqC,GAAG,CAAyB;AACrF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;;;AAGA;AACA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;;;AAGA;AACA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,MAAqC,GAAG,CAAyB;AACzF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;;AAGA;AACA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA,sBAAsB,MAAqC,GAAG,CAAyB;AACvF;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;;AAEA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB,eAAe;AACf;;;AAGA;AACA;AACA,sBAAsB,MAAqC,GAAG,CAA0B;AACxF;;AAEA,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA,0BAA0B,MAAqC,GAAG,CAA0B;AAC5F;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,IAAI;AACJ;AACA;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,IAAI,aAAa;;AAEjB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,sBAAsB,MAAqC,GAAG,CAA0B;AACxF;;AAEA;AACA;AACA,KAAK;AACL,sBAAsB,MAAqC,GAAG,CAA0B;AACxF;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;;;AAGA;AACA;AACA;;AAEA,kBAAkB,wBAAwB;AAC1C;;AAEA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qDAAqD;AACrD;;AAEA;;AAEA,MAAM,IAAqC;AAC3C;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,QAAQ,IAAqC;AAC7C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,MAAqC,GAAG,CAA0B;AAC1F;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,MAAqC,GAAG,CAA0B;AACtF;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,UAAU;AACvB;;AAEA;AACA,6EAA6E,aAAa;AAC1F;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wBAAwB,MAAqC,GAAG,CAA0B;AAC1F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,aAAa,oFAAa,CAAC,oFAAa,GAAG,YAAY;AACvD;AACA,OAAO;AACP;AACA;AACA;;AAEoJ","sources":["webpack://metanno/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://metanno/./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://metanno/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://metanno/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://metanno/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://metanno/./node_modules/@react-dnd/asap/src/AsapQueue.ts","webpack://metanno/./node_modules/@react-dnd/asap/src/RawTask.ts","webpack://metanno/./node_modules/@react-dnd/asap/src/TaskFactory.ts","webpack://metanno/./node_modules/@react-dnd/asap/src/asap.ts","webpack://metanno/./node_modules/@react-dnd/asap/src/index.ts","webpack://metanno/./node_modules/@react-dnd/asap/src/makeRequestCall.ts","webpack://metanno/./node_modules/@react-dnd/asap/src/types.ts","webpack://metanno/./node_modules/@react-dnd/invariant/src/index.ts","webpack://metanno/./node_modules/@react-dnd/shallowequal/src/index.ts","webpack://metanno/./node_modules/dnd-core/src/actions/dragDrop/beginDrag.ts","webpack://metanno/./node_modules/dnd-core/src/actions/dragDrop/drop.ts","webpack://metanno/./node_modules/dnd-core/src/actions/dragDrop/endDrag.ts","webpack://metanno/./node_modules/dnd-core/src/actions/dragDrop/hover.ts","webpack://metanno/./node_modules/dnd-core/src/actions/dragDrop/index.ts","webpack://metanno/./node_modules/dnd-core/src/actions/dragDrop/local/setClientOffset.ts","webpack://metanno/./node_modules/dnd-core/src/actions/dragDrop/publishDragSource.ts","webpack://metanno/./node_modules/dnd-core/src/actions/dragDrop/types.ts","webpack://metanno/./node_modules/dnd-core/src/actions/registry.ts","webpack://metanno/./node_modules/dnd-core/src/classes/DragDropManagerImpl.ts","webpack://metanno/./node_modules/dnd-core/src/classes/DragDropMonitorImpl.ts","webpack://metanno/./node_modules/dnd-core/src/classes/HandlerRegistryImpl.ts","webpack://metanno/./node_modules/dnd-core/src/contracts.ts","webpack://metanno/./node_modules/dnd-core/src/createDragDropManager.ts","webpack://metanno/./node_modules/dnd-core/src/interfaces.ts","webpack://metanno/./node_modules/dnd-core/src/reducers/dirtyHandlerIds.ts","webpack://metanno/./node_modules/dnd-core/src/reducers/dragOffset.ts","webpack://metanno/./node_modules/dnd-core/src/reducers/dragOperation.ts","webpack://metanno/./node_modules/dnd-core/src/reducers/index.ts","webpack://metanno/./node_modules/dnd-core/src/reducers/refCount.ts","webpack://metanno/./node_modules/dnd-core/src/reducers/stateId.ts","webpack://metanno/./node_modules/dnd-core/src/utils/coords.ts","webpack://metanno/./node_modules/dnd-core/src/utils/dirtiness.ts","webpack://metanno/./node_modules/dnd-core/src/utils/equality.ts","webpack://metanno/./node_modules/dnd-core/src/utils/getNextUniqueId.ts","webpack://metanno/./node_modules/dnd-core/src/utils/js_utils.ts","webpack://metanno/./node_modules/dnd-core/src/utils/matchesType.ts","webpack://metanno/./node_modules/fast-deep-equal/index.js","webpack://metanno/./node_modules/process/browser.js","webpack://metanno/./node_modules/react-dnd/src/core/DndContext.ts","webpack://metanno/./node_modules/react-dnd/src/core/DndProvider.tsx","webpack://metanno/./node_modules/react-dnd/src/core/DragPreviewImage.ts","webpack://metanno/./node_modules/react-dnd/src/core/index.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/index.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useCollectedProps.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useCollector.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrag/DragSourceImpl.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrag/connectors.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrag/index.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrag/useDrag.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrag/useDragSource.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrag/useDragSourceConnector.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrag/useDragSourceMonitor.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrag/useDragType.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrag/useRegisteredDragSource.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDragDropManager.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDragLayer.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrop/DropTargetImpl.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrop/connectors.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrop/index.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrop/useAccept.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrop/useDrop.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrop/useDropTarget.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrop/useDropTargetConnector.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrop/useDropTargetMonitor.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useDrop/useRegisteredDropTarget.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useIsomorphicLayoutEffect.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useMonitorOutput.ts","webpack://metanno/./node_modules/react-dnd/src/hooks/useOptionalFactory.ts","webpack://metanno/./node_modules/react-dnd/src/index.ts","webpack://metanno/./node_modules/react-dnd/src/internals/DragSourceMonitorImpl.ts","webpack://metanno/./node_modules/react-dnd/src/internals/DropTargetMonitorImpl.ts","webpack://metanno/./node_modules/react-dnd/src/internals/SourceConnector.ts","webpack://metanno/./node_modules/react-dnd/src/internals/TargetConnector.ts","webpack://metanno/./node_modules/react-dnd/src/internals/isRef.ts","webpack://metanno/./node_modules/react-dnd/src/internals/registration.ts","webpack://metanno/./node_modules/react-dnd/src/internals/wrapConnectorHooks.ts","webpack://metanno/./node_modules/redux/es/redux.js"],"sourcesContent":["import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */\nimport { makeRequestCall, makeRequestCallFromTimer } from './makeRequestCall.js'\nimport type { Task } from './types.js'\n\nexport class AsapQueue {\n\tprivate queue: Task[] = []\n\t// We queue errors to ensure they are thrown in right order (FIFO).\n\t// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\tprivate pendingErrors: any[] = []\n\t// Once a flush has been requested, no further calls to `requestFlush` are\n\t// necessary until the next `flush` completes.\n\t// @ts-ignore\n\tprivate flushing = false\n\t// `requestFlush` is an implementation-specific method that attempts to kick\n\t// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n\t// the event queue before yielding to the browser's own event loop.\n\tprivate requestFlush: () => void\n\n\tprivate requestErrorThrow: () => void\n\t// The position of the next task to execute in the task queue. This is\n\t// preserved between calls to `flush` so that it can be resumed if\n\t// a task throws an exception.\n\tprivate index = 0\n\t// If a task schedules additional tasks recursively, the task queue can grow\n\t// unbounded. To prevent memory exhaustion, the task queue will periodically\n\t// truncate already-completed tasks.\n\tprivate capacity = 1024\n\n\tpublic constructor() {\n\t\t// `requestFlush` requests that the high priority event queue be flushed as\n\t\t// soon as possible.\n\t\t// This is useful to prevent an error thrown in a task from stalling the event\n\t\t// queue if the exception handled by Node.jss\n\t\t// `process.on(\"uncaughtException\")` or by a domain.\n\n\t\t// `requestFlush` is implemented using a strategy based on data collected from\n\t\t// every available SauceLabs Selenium web driver worker at time of writing.\n\t\t// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\t\tthis.requestFlush = makeRequestCall(this.flush)\n\t\tthis.requestErrorThrow = makeRequestCallFromTimer(() => {\n\t\t\t// Throw first error\n\t\t\tif (this.pendingErrors.length) {\n\t\t\t\tthrow this.pendingErrors.shift()\n\t\t\t}\n\t\t})\n\t}\n\n\t// Use the fastest means possible to execute a task in its own turn, with\n\t// priority over other events including IO, animation, reflow, and redraw\n\t// events in browsers.\n\t//\n\t// An exception thrown by a task will permanently interrupt the processing of\n\t// subsequent tasks. The higher level `asap` function ensures that if an\n\t// exception is thrown by a task, that the task queue will continue flushing as\n\t// soon as possible, but if you use `rawAsap` directly, you are responsible to\n\t// either ensure that no exceptions are thrown from your task, or to manually\n\t// call `rawAsap.requestFlush` if an exception is thrown.\n\tpublic enqueueTask(task: Task): void {\n\t\tconst { queue: q, requestFlush } = this\n\t\tif (!q.length) {\n\t\t\trequestFlush()\n\t\t\tthis.flushing = true\n\t\t}\n\t\t// Equivalent to push, but avoids a function call.\n\t\tq[q.length] = task\n\t}\n\n\t// The flush function processes all tasks that have been scheduled with\n\t// `rawAsap` unless and until one of those tasks throws an exception.\n\t// If a task throws an exception, `flush` ensures that its state will remain\n\t// consistent and will resume where it left off when called again.\n\t// However, `flush` does not make any arrangements to be called again if an\n\t// exception is thrown.\n\tprivate flush = () => {\n\t\tconst { queue: q } = this\n\t\twhile (this.index < q.length) {\n\t\t\tconst currentIndex = this.index\n\t\t\t// Advance the index before calling the task. This ensures that we will\n\t\t\t// begin flushing on the next task the task throws an error.\n\t\t\tthis.index++\n\t\t\tq[currentIndex]!.call()\n\t\t\t// Prevent leaking memory for long chains of recursive calls to `asap`.\n\t\t\t// If we call `asap` within tasks scheduled by `asap`, the queue will\n\t\t\t// grow, but to avoid an O(n) walk for every task we execute, we don't\n\t\t\t// shift tasks off the queue after they have been executed.\n\t\t\t// Instead, we periodically shift 1024 tasks off the queue.\n\t\t\tif (this.index > this.capacity) {\n\t\t\t\t// Manually shift all values starting at the index back to the\n\t\t\t\t// beginning of the queue.\n\t\t\t\tfor (\n\t\t\t\t\tlet scan = 0, newLength = q.length - this.index;\n\t\t\t\t\tscan < newLength;\n\t\t\t\t\tscan++\n\t\t\t\t) {\n\t\t\t\t\tq[scan] = q[scan + this.index]!\n\t\t\t\t}\n\t\t\t\tq.length -= this.index\n\t\t\t\tthis.index = 0\n\t\t\t}\n\t\t}\n\t\tq.length = 0\n\t\tthis.index = 0\n\t\tthis.flushing = false\n\t}\n\n\t// In a web browser, exceptions are not fatal. However, to avoid\n\t// slowing down the queue of pending tasks, we rethrow the error in a\n\t// lower priority turn.\n\tpublic registerPendingError = (err: any) => {\n\t\tthis.pendingErrors.push(err)\n\t\tthis.requestErrorThrow()\n\t}\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// // its existence.\n// rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","// We wrap tasks with recyclable task objects.  A task object implements\n\nimport type { Task, TaskFn } from 'types'\n\n// `call`, just like a function.\nexport class RawTask implements Task {\n\tpublic task: TaskFn | null = null\n\n\tpublic constructor(\n\t\tprivate onError: (err: any) => void,\n\t\tprivate release: (t: RawTask) => void,\n\t) {}\n\n\tpublic call() {\n\t\ttry {\n\t\t\tthis.task && this.task()\n\t\t} catch (error) {\n\t\t\tthis.onError(error)\n\t\t} finally {\n\t\t\tthis.task = null\n\t\t\tthis.release(this)\n\t\t}\n\t}\n}\n","import { RawTask } from './RawTask.js'\nimport type { Task } from './types.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n","import { AsapQueue } from './AsapQueue.js'\nimport { TaskFactory } from './TaskFactory.js'\nimport type { TaskFn } from './types.js'\n\nconst asapQueue = new AsapQueue()\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError)\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nexport function asap(task: TaskFn) {\n\tasapQueue.enqueueTask(taskFactory.create(task))\n}\n","export * from './asap.js'\nexport * from './AsapQueue.js'\nexport * from './TaskFactory.js'\nexport * from './types.js'\n","// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nconst scope = typeof global !== 'undefined' ? global : self\nconst BrowserMutationObserver =\n\t(scope as any).MutationObserver || (scope as any).WebKitMutationObserver\n\nexport function makeRequestCallFromTimer(callback: () => void) {\n\treturn function requestCall() {\n\t\t// We dispatch a timeout with a specified delay of 0 for engines that\n\t\t// can reliably accommodate that request. This will usually be snapped\n\t\t// to a 4 milisecond delay, but once we're flushing, there's no delay\n\t\t// between events.\n\t\tconst timeoutHandle = setTimeout(handleTimer, 0)\n\t\t// However, since this timer gets frequently dropped in Firefox\n\t\t// workers, we enlist an interval handle that will try to fire\n\t\t// an event 20 times per second until it succeeds.\n\t\tconst intervalHandle = setInterval(handleTimer, 50)\n\n\t\tfunction handleTimer() {\n\t\t\t// Whichever timer succeeds will cancel both timers and\n\t\t\t// execute the callback.\n\t\t\tclearTimeout(timeoutHandle)\n\t\t\tclearInterval(intervalHandle)\n\t\t\tcallback()\n\t\t}\n\t}\n}\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nexport function makeRequestCallFromMutationObserver(callback: () => void) {\n\tlet toggle = 1\n\tconst observer = new BrowserMutationObserver(callback)\n\tconst node = document.createTextNode('')\n\tobserver.observe(node, { characterData: true })\n\treturn function requestCall() {\n\t\ttoggle = -toggle\n\t\t;(node as any).data = toggle\n\t}\n}\n\nexport const makeRequestCall =\n\ttypeof BrowserMutationObserver === 'function'\n\t\t? // MutationObservers are desirable because they have high priority and work\n\t\t  // reliably everywhere they are implemented.\n\t\t  // They are implemented in all modern browsers.\n\t\t  //\n\t\t  // - Android 4-4.3\n\t\t  // - Chrome 26-34\n\t\t  // - Firefox 14-29\n\t\t  // - Internet Explorer 11\n\t\t  // - iPad Safari 6-7.1\n\t\t  // - iPhone Safari 7-7.1\n\t\t  // - Safari 6-7\n\t\t  makeRequestCallFromMutationObserver\n\t\t: // MessageChannels are desirable because they give direct access to the HTML\n\t\t  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n\t\t  // 11-12, and in web workers in many engines.\n\t\t  // Although message channels yield to any queued rendering and IO tasks, they\n\t\t  // would be better than imposing the 4ms delay of timers.\n\t\t  // However, they do not work reliably in Internet Explorer or Safari.\n\n\t\t  // Internet Explorer 10 is the only browser that has setImmediate but does\n\t\t  // not have MutationObservers.\n\t\t  // Although setImmediate yields to the browser's renderer, it would be\n\t\t  // preferrable to falling back to setTimeout since it does not have\n\t\t  // the minimum 4ms penalty.\n\t\t  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n\t\t  // Desktop to a lesser extent) that renders both setImmediate and\n\t\t  // MessageChannel useless for the purposes of ASAP.\n\t\t  // https://github.com/kriskowal/q/issues/396\n\n\t\t  // Timers are implemented universally.\n\t\t  // We fall back to timers in workers in most engines, and in foreground\n\t\t  // contexts in the following browsers.\n\t\t  // However, note that even this simple case requires nuances to operate in a\n\t\t  // broad spectrum of browsers.\n\t\t  //\n\t\t  // - Firefox 3-13\n\t\t  // - Internet Explorer 6-9\n\t\t  // - iPad Safari 4.3\n\t\t  // - Lynx 2.8.7\n\t\t  makeRequestCallFromTimer\n","export interface Task {\n\tcall(): void\n}\nexport type TaskFn = () => void\n","/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nexport function invariant(condition: any, format: string, ...args: any[]) {\n\tif (isProduction()) {\n\t\tif (format === undefined) {\n\t\t\tthrow new Error('invariant requires an error message argument')\n\t\t}\n\t}\n\n\tif (!condition) {\n\t\tlet error\n\t\tif (format === undefined) {\n\t\t\terror = new Error(\n\t\t\t\t'Minified exception occurred; use the non-minified dev environment ' +\n\t\t\t\t\t'for the full error message and additional helpful warnings.',\n\t\t\t)\n\t\t} else {\n\t\t\tlet argIndex = 0\n\t\t\terror = new Error(\n\t\t\t\tformat.replace(/%s/g, function () {\n\t\t\t\t\treturn args[argIndex++]\n\t\t\t\t}),\n\t\t\t)\n\t\t\terror.name = 'Invariant Violation'\n\t\t}\n\n\t\t;(error as any).framesToPop = 1 // we don't care about invariant's own frame\n\t\tthrow error\n\t}\n}\n\nfunction isProduction() {\n\treturn (\n\t\ttypeof process !== 'undefined' && process.env['NODE_ENV'] === 'production'\n\t)\n}\n","export function shallowEqual<T>(\n\tobjA: T,\n\tobjB: T,\n\tcompare?: (a: T, b: T, key?: string) => boolean | void,\n\tcompareContext?: any,\n) {\n\tlet compareResult = compare\n\t\t? compare.call(compareContext, objA, objB)\n\t\t: void 0\n\tif (compareResult !== void 0) {\n\t\treturn !!compareResult\n\t}\n\n\tif (objA === objB) {\n\t\treturn true\n\t}\n\n\tif (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n\t\treturn false\n\t}\n\n\tconst keysA = Object.keys(objA)\n\tconst keysB = Object.keys(objB)\n\n\tif (keysA.length !== keysB.length) {\n\t\treturn false\n\t}\n\n\tconst bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB)\n\n\t// Test for A's keys different from B.\n\tfor (let idx = 0; idx < keysA.length; idx++) {\n\t\tconst key = keysA[idx] as string\n\n\t\tif (!bHasOwnProperty(key)) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst valueA = (objA as any)[key]\n\t\tconst valueB = (objB as any)[key]\n\n\t\tcompareResult = compare\n\t\t\t? compare.call(compareContext, valueA, valueB, key)\n\t\t\t: void 0\n\n\t\tif (\n\t\t\tcompareResult === false ||\n\t\t\t(compareResult === void 0 && valueA !== valueB)\n\t\t) {\n\t\t\treturn false\n\t\t}\n\t}\n\n\treturn true\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tBeginDragOptions,\n\tBeginDragPayload,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tXYCoord,\n} from '../../interfaces.js'\nimport { isObject } from '../../utils/js_utils.js'\nimport { setClientOffset } from './local/setClientOffset.js'\nimport { BEGIN_DRAG, INIT_COORDS } from './types.js'\n\nconst ResetCoordinatesAction = {\n\ttype: INIT_COORDS,\n\tpayload: {\n\t\tclientOffset: null,\n\t\tsourceClientOffset: null,\n\t},\n}\n\nexport function createBeginDrag(manager: DragDropManager) {\n\treturn function beginDrag(\n\t\tsourceIds: Identifier[] = [],\n\t\toptions: BeginDragOptions = {\n\t\t\tpublishSource: true,\n\t\t},\n\t): Action<BeginDragPayload> | undefined {\n\t\tconst {\n\t\t\tpublishSource = true,\n\t\t\tclientOffset,\n\t\t\tgetSourceClientOffset,\n\t\t}: BeginDragOptions = options\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\n\t\t// Initialize the coordinates using the client offset\n\t\tmanager.dispatch(setClientOffset(clientOffset))\n\n\t\tverifyInvariants(sourceIds, monitor, registry)\n\n\t\t// Get the draggable source\n\t\tconst sourceId = getDraggableSource(sourceIds, monitor)\n\t\tif (sourceId == null) {\n\t\t\tmanager.dispatch(ResetCoordinatesAction)\n\t\t\treturn\n\t\t}\n\n\t\t// Get the source client offset\n\t\tlet sourceClientOffset: XYCoord | null = null\n\t\tif (clientOffset) {\n\t\t\tif (!getSourceClientOffset) {\n\t\t\t\tthrow new Error('getSourceClientOffset must be defined')\n\t\t\t}\n\t\t\tverifyGetSourceClientOffsetIsFunction(getSourceClientOffset)\n\t\t\tsourceClientOffset = getSourceClientOffset(sourceId)\n\t\t}\n\n\t\t// Initialize the full coordinates\n\t\tmanager.dispatch(setClientOffset(clientOffset, sourceClientOffset))\n\n\t\tconst source = registry.getSource(sourceId)\n\t\tconst item = source.beginDrag(monitor, sourceId)\n\t\t// If source.beginDrag returns null, this is an indicator to cancel the drag\n\t\tif (item == null) {\n\t\t\treturn undefined\n\t\t}\n\t\tverifyItemIsObject(item)\n\t\tregistry.pinSource(sourceId)\n\n\t\tconst itemType = registry.getSourceType(sourceId)\n\t\treturn {\n\t\t\ttype: BEGIN_DRAG,\n\t\t\tpayload: {\n\t\t\t\titemType,\n\t\t\t\titem,\n\t\t\t\tsourceId,\n\t\t\t\tclientOffset: clientOffset || null,\n\t\t\t\tsourceClientOffset: sourceClientOffset || null,\n\t\t\t\tisSourcePublic: !!publishSource,\n\t\t\t},\n\t\t}\n\t}\n}\n\nfunction verifyInvariants(\n\tsourceIds: Identifier[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\tinvariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.')\n\tsourceIds.forEach(function (sourceId) {\n\t\tinvariant(\n\t\t\tregistry.getSource(sourceId),\n\t\t\t'Expected sourceIds to be registered.',\n\t\t)\n\t})\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset: any) {\n\tinvariant(\n\t\ttypeof getSourceClientOffset === 'function',\n\t\t'When clientOffset is provided, getSourceClientOffset must be a function.',\n\t)\n}\n\nfunction verifyItemIsObject(item: any) {\n\tinvariant(isObject(item), 'Item must be an object.')\n}\n\nfunction getDraggableSource(sourceIds: Identifier[], monitor: DragDropMonitor) {\n\tlet sourceId = null\n\tfor (let i = sourceIds.length - 1; i >= 0; i--) {\n\t\tif (monitor.canDragSource(sourceIds[i])) {\n\t\t\tsourceId = sourceIds[i]\n\t\t\tbreak\n\t\t}\n\t}\n\treturn sourceId\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tDragDropManager,\n\tDragDropMonitor,\n\tDropPayload,\n\tHandlerRegistry,\n\tIdentifier,\n} from '../../interfaces.js'\nimport { isObject } from '../../utils/js_utils.js'\nimport { DROP } from './types.js'\n\nexport function createDrop(manager: DragDropManager) {\n\treturn function drop(options = {}): void {\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tverifyInvariants(monitor)\n\t\tconst targetIds = getDroppableTargets(monitor)\n\n\t\t// Multiple actions are dispatched here, which is why this doesn't return an action\n\t\ttargetIds.forEach((targetId, index) => {\n\t\t\tconst dropResult = determineDropResult(targetId, index, registry, monitor)\n\t\t\tconst action: Action<DropPayload> = {\n\t\t\t\ttype: DROP,\n\t\t\t\tpayload: {\n\t\t\t\t\tdropResult: {\n\t\t\t\t\t\t...options,\n\t\t\t\t\t\t...dropResult,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t\tmanager.dispatch(action)\n\t\t})\n\t}\n}\n\nfunction verifyInvariants(monitor: DragDropMonitor) {\n\tinvariant(monitor.isDragging(), 'Cannot call drop while not dragging.')\n\tinvariant(\n\t\t!monitor.didDrop(),\n\t\t'Cannot call drop twice during one drag operation.',\n\t)\n}\n\nfunction determineDropResult(\n\ttargetId: Identifier,\n\tindex: number,\n\tregistry: HandlerRegistry,\n\tmonitor: DragDropMonitor,\n) {\n\tconst target = registry.getTarget(targetId)\n\tlet dropResult = target ? target.drop(monitor, targetId) : undefined\n\tverifyDropResultType(dropResult)\n\tif (typeof dropResult === 'undefined') {\n\t\tdropResult = index === 0 ? {} : monitor.getDropResult()\n\t}\n\treturn dropResult\n}\n\nfunction verifyDropResultType(dropResult: any) {\n\tinvariant(\n\t\ttypeof dropResult === 'undefined' || isObject(dropResult),\n\t\t'Drop result must either be an object or undefined.',\n\t)\n}\n\nfunction getDroppableTargets(monitor: DragDropMonitor) {\n\tconst targetIds = monitor\n\t\t.getTargetIds()\n\t\t.filter(monitor.canDropOnTarget, monitor)\n\ttargetIds.reverse()\n\treturn targetIds\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tSentinelAction,\n} from '../../interfaces.js'\nimport { END_DRAG } from './types.js'\n\nexport function createEndDrag(manager: DragDropManager) {\n\treturn function endDrag(): SentinelAction {\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tverifyIsDragging(monitor)\n\n\t\tconst sourceId = monitor.getSourceId()\n\t\tif (sourceId != null) {\n\t\t\tconst source = registry.getSource(sourceId, true)\n\t\t\tsource.endDrag(monitor, sourceId)\n\t\t\tregistry.unpinSource()\n\t\t}\n\t\treturn { type: END_DRAG }\n\t}\n}\n\nfunction verifyIsDragging(monitor: DragDropMonitor) {\n\tinvariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.')\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tHoverOptions,\n\tHoverPayload,\n\tIdentifier,\n} from '../../interfaces.js'\nimport { matchesType } from '../../utils/matchesType.js'\nimport { HOVER } from './types.js'\n\nexport function createHover(manager: DragDropManager) {\n\treturn function hover(\n\t\ttargetIdsArg: string[],\n\t\t{ clientOffset }: HoverOptions = {},\n\t): Action<HoverPayload> {\n\t\tverifyTargetIdsIsArray(targetIdsArg)\n\t\tconst targetIds = targetIdsArg.slice(0)\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tconst draggedItemType = monitor.getItemType()\n\t\tremoveNonMatchingTargetIds(targetIds, registry, draggedItemType)\n\t\tcheckInvariants(targetIds, monitor, registry)\n\t\thoverAllTargets(targetIds, monitor, registry)\n\n\t\treturn {\n\t\t\ttype: HOVER,\n\t\t\tpayload: {\n\t\t\t\ttargetIds,\n\t\t\t\tclientOffset: clientOffset || null,\n\t\t\t},\n\t\t}\n\t}\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg: string[]) {\n\tinvariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.')\n}\n\nfunction checkInvariants(\n\ttargetIds: string[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\tinvariant(monitor.isDragging(), 'Cannot call hover while not dragging.')\n\tinvariant(!monitor.didDrop(), 'Cannot call hover after drop.')\n\tfor (let i = 0; i < targetIds.length; i++) {\n\t\tconst targetId = targetIds[i] as string\n\t\tinvariant(\n\t\t\ttargetIds.lastIndexOf(targetId) === i,\n\t\t\t'Expected targetIds to be unique in the passed array.',\n\t\t)\n\n\t\tconst target = registry.getTarget(targetId)\n\t\tinvariant(target, 'Expected targetIds to be registered.')\n\t}\n}\n\nfunction removeNonMatchingTargetIds(\n\ttargetIds: string[],\n\tregistry: HandlerRegistry,\n\tdraggedItemType: Identifier | null,\n) {\n\t// Remove those targetIds that don't match the targetType.  This\n\t// fixes shallow isOver which would only be non-shallow because of\n\t// non-matching targets.\n\tfor (let i = targetIds.length - 1; i >= 0; i--) {\n\t\tconst targetId = targetIds[i] as string\n\t\tconst targetType = registry.getTargetType(targetId)\n\t\tif (!matchesType(targetType, draggedItemType)) {\n\t\t\ttargetIds.splice(i, 1)\n\t\t}\n\t}\n}\n\nfunction hoverAllTargets(\n\ttargetIds: string[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\t// Finally call hover on all matching targets.\n\ttargetIds.forEach(function (targetId) {\n\t\tconst target = registry.getTarget(targetId)\n\t\ttarget.hover(monitor, targetId)\n\t})\n}\n","import type { DragDropActions, DragDropManager } from '../../interfaces.js'\nimport { createBeginDrag } from './beginDrag.js'\nimport { createDrop } from './drop.js'\nimport { createEndDrag } from './endDrag.js'\nimport { createHover } from './hover.js'\nimport { createPublishDragSource } from './publishDragSource.js'\n\nexport * from './types.js'\n\nexport function createDragDropActions(\n\tmanager: DragDropManager,\n): DragDropActions {\n\treturn {\n\t\tbeginDrag: createBeginDrag(manager),\n\t\tpublishDragSource: createPublishDragSource(manager),\n\t\thover: createHover(manager),\n\t\tdrop: createDrop(manager),\n\t\tendDrag: createEndDrag(manager),\n\t}\n}\n","import type { AnyAction } from 'redux'\n\nimport type { XYCoord } from '../../../interfaces.js'\nimport { INIT_COORDS } from '../types.js'\n\nexport function setClientOffset(\n\tclientOffset: XYCoord | null | undefined,\n\tsourceClientOffset?: XYCoord | null | undefined,\n): AnyAction {\n\treturn {\n\t\ttype: INIT_COORDS,\n\t\tpayload: {\n\t\t\tsourceClientOffset: sourceClientOffset || null,\n\t\t\tclientOffset: clientOffset || null,\n\t\t},\n\t}\n}\n","import type { DragDropManager, SentinelAction } from '../../interfaces.js'\nimport { PUBLISH_DRAG_SOURCE } from './types.js'\n\nexport function createPublishDragSource(manager: DragDropManager) {\n\treturn function publishDragSource(): SentinelAction | undefined {\n\t\tconst monitor = manager.getMonitor()\n\t\tif (monitor.isDragging()) {\n\t\t\treturn { type: PUBLISH_DRAG_SOURCE }\n\t\t}\n\t\treturn\n\t}\n}\n","export const INIT_COORDS = 'dnd-core/INIT_COORDS'\nexport const BEGIN_DRAG = 'dnd-core/BEGIN_DRAG'\nexport const PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE'\nexport const HOVER = 'dnd-core/HOVER'\nexport const DROP = 'dnd-core/DROP'\nexport const END_DRAG = 'dnd-core/END_DRAG'\n","import type { Action, SourceIdPayload, TargetIdPayload } from '../interfaces.js'\n\nexport const ADD_SOURCE = 'dnd-core/ADD_SOURCE'\nexport const ADD_TARGET = 'dnd-core/ADD_TARGET'\nexport const REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE'\nexport const REMOVE_TARGET = 'dnd-core/REMOVE_TARGET'\n\nexport function addSource(sourceId: string): Action<SourceIdPayload> {\n\treturn {\n\t\ttype: ADD_SOURCE,\n\t\tpayload: {\n\t\t\tsourceId,\n\t\t},\n\t}\n}\n\nexport function addTarget(targetId: string): Action<TargetIdPayload> {\n\treturn {\n\t\ttype: ADD_TARGET,\n\t\tpayload: {\n\t\t\ttargetId,\n\t\t},\n\t}\n}\n\nexport function removeSource(sourceId: string): Action<SourceIdPayload> {\n\treturn {\n\t\ttype: REMOVE_SOURCE,\n\t\tpayload: {\n\t\t\tsourceId,\n\t\t},\n\t}\n}\n\nexport function removeTarget(targetId: string): Action<TargetIdPayload> {\n\treturn {\n\t\ttype: REMOVE_TARGET,\n\t\tpayload: {\n\t\t\ttargetId,\n\t\t},\n\t}\n}\n","import type { Action, Store } from 'redux'\n\nimport { createDragDropActions } from '../actions/dragDrop/index.js'\nimport type {\n\tActionCreator,\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n} from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport type { DragDropMonitorImpl } from './DragDropMonitorImpl.js'\n\nexport class DragDropManagerImpl implements DragDropManager {\n\tprivate store: Store<State>\n\tprivate monitor: DragDropMonitor\n\tprivate backend: Backend | undefined\n\tprivate isSetUp = false\n\n\tpublic constructor(store: Store<State>, monitor: DragDropMonitor) {\n\t\tthis.store = store\n\t\tthis.monitor = monitor\n\t\tstore.subscribe(this.handleRefCountChange)\n\t}\n\n\tpublic receiveBackend(backend: Backend): void {\n\t\tthis.backend = backend\n\t}\n\n\tpublic getMonitor(): DragDropMonitor {\n\t\treturn this.monitor\n\t}\n\n\tpublic getBackend(): Backend {\n\t\treturn this.backend as Backend\n\t}\n\n\tpublic getRegistry(): HandlerRegistry {\n\t\treturn (this.monitor as DragDropMonitorImpl).registry\n\t}\n\n\tpublic getActions(): DragDropActions {\n\t\t/* eslint-disable-next-line @typescript-eslint/no-this-alias */\n\t\tconst manager = this\n\t\tconst { dispatch } = this.store\n\n\t\tfunction bindActionCreator(actionCreator: ActionCreator<any>) {\n\t\t\treturn (...args: any[]) => {\n\t\t\t\tconst action = actionCreator.apply(manager, args as any)\n\t\t\t\tif (typeof action !== 'undefined') {\n\t\t\t\t\tdispatch(action)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst actions = createDragDropActions(this)\n\n\t\treturn Object.keys(actions).reduce(\n\t\t\t(boundActions: DragDropActions, key: string) => {\n\t\t\t\tconst action: ActionCreator<any> = (actions as any)[\n\t\t\t\t\tkey\n\t\t\t\t] as ActionCreator<any>\n\t\t\t\t;(boundActions as any)[key] = bindActionCreator(action)\n\t\t\t\treturn boundActions\n\t\t\t},\n\t\t\t{} as DragDropActions,\n\t\t)\n\t}\n\n\tpublic dispatch(action: Action<any>): void {\n\t\tthis.store.dispatch(action)\n\t}\n\n\tprivate handleRefCountChange = (): void => {\n\t\tconst shouldSetUp = this.store.getState().refCount > 0\n\t\tif (this.backend) {\n\t\t\tif (shouldSetUp && !this.isSetUp) {\n\t\t\t\tthis.backend.setup()\n\t\t\t\tthis.isSetUp = true\n\t\t\t} else if (!shouldSetUp && this.isSetUp) {\n\t\t\t\tthis.backend.teardown()\n\t\t\t\tthis.isSetUp = false\n\t\t\t}\n\t\t}\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { Store } from 'redux'\n\nimport type {\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport {\n\tgetDifferenceFromInitialOffset,\n\tgetSourceClientOffset,\n} from '../utils/coords.js'\nimport { areDirty } from '../utils/dirtiness.js'\nimport { matchesType } from '../utils/matchesType.js'\n\nexport class DragDropMonitorImpl implements DragDropMonitor {\n\tprivate store: Store<State>\n\tpublic readonly registry: HandlerRegistry\n\n\tpublic constructor(store: Store<State>, registry: HandlerRegistry) {\n\t\tthis.store = store\n\t\tthis.registry = registry\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions: { handlerIds?: string[] } = {},\n\t): Unsubscribe {\n\t\tconst { handlerIds } = options\n\t\tinvariant(typeof listener === 'function', 'listener must be a function.')\n\t\tinvariant(\n\t\t\ttypeof handlerIds === 'undefined' || Array.isArray(handlerIds),\n\t\t\t'handlerIds, when specified, must be an array of strings.',\n\t\t)\n\n\t\tlet prevStateId = this.store.getState().stateId\n\t\tconst handleChange = () => {\n\t\t\tconst state = this.store.getState()\n\t\t\tconst currentStateId = state.stateId\n\t\t\ttry {\n\t\t\t\tconst canSkipListener =\n\t\t\t\t\tcurrentStateId === prevStateId ||\n\t\t\t\t\t(currentStateId === prevStateId + 1 &&\n\t\t\t\t\t\t!areDirty(state.dirtyHandlerIds, handlerIds))\n\n\t\t\t\tif (!canSkipListener) {\n\t\t\t\t\tlistener()\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tprevStateId = currentStateId\n\t\t\t}\n\t\t}\n\n\t\treturn this.store.subscribe(handleChange)\n\t}\n\n\tpublic subscribeToOffsetChange(listener: Listener): Unsubscribe {\n\t\tinvariant(typeof listener === 'function', 'listener must be a function.')\n\n\t\tlet previousState = this.store.getState().dragOffset\n\t\tconst handleChange = () => {\n\t\t\tconst nextState = this.store.getState().dragOffset\n\t\t\tif (nextState === previousState) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tpreviousState = nextState\n\t\t\tlistener()\n\t\t}\n\n\t\treturn this.store.subscribe(handleChange)\n\t}\n\n\tpublic canDragSource(sourceId: string | undefined): boolean {\n\t\tif (!sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tconst source = this.registry.getSource(sourceId)\n\t\tinvariant(source, `Expected to find a valid source. sourceId=${sourceId}`)\n\n\t\tif (this.isDragging()) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn source.canDrag(this, sourceId)\n\t}\n\n\tpublic canDropOnTarget(targetId: string | undefined): boolean {\n\t\t// undefined on initial render\n\t\tif (!targetId) {\n\t\t\treturn false\n\t\t}\n\t\tconst target = this.registry.getTarget(targetId)\n\t\tinvariant(target, `Expected to find a valid target. targetId=${targetId}`)\n\n\t\tif (!this.isDragging() || this.didDrop()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetType = this.registry.getTargetType(targetId)\n\t\tconst draggedItemType = this.getItemType()\n\t\treturn (\n\t\t\tmatchesType(targetType, draggedItemType) && target.canDrop(this, targetId)\n\t\t)\n\t}\n\n\tpublic isDragging(): boolean {\n\t\treturn Boolean(this.getItemType())\n\t}\n\n\tpublic isDraggingSource(sourceId: string | undefined): boolean {\n\t\t// undefined on initial render\n\t\tif (!sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tconst source = this.registry.getSource(sourceId, true)\n\t\tinvariant(source, `Expected to find a valid source. sourceId=${sourceId}`)\n\n\t\tif (!this.isDragging() || !this.isSourcePublic()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst sourceType = this.registry.getSourceType(sourceId)\n\t\tconst draggedItemType = this.getItemType()\n\t\tif (sourceType !== draggedItemType) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn source.isDragging(this, sourceId)\n\t}\n\n\tpublic isOverTarget(\n\t\ttargetId: string | undefined,\n\t\toptions = { shallow: false },\n\t): boolean {\n\t\t// undefined on initial render\n\t\tif (!targetId) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst { shallow } = options\n\t\tif (!this.isDragging()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetType = this.registry.getTargetType(targetId)\n\t\tconst draggedItemType = this.getItemType()\n\t\tif (draggedItemType && !matchesType(targetType, draggedItemType)) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetIds = this.getTargetIds()\n\t\tif (!targetIds.length) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst index = targetIds.indexOf(targetId)\n\t\tif (shallow) {\n\t\t\treturn index === targetIds.length - 1\n\t\t} else {\n\t\t\treturn index > -1\n\t\t}\n\t}\n\n\tpublic getItemType(): Identifier {\n\t\treturn this.store.getState().dragOperation.itemType as Identifier\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.store.getState().dragOperation.item\n\t}\n\n\tpublic getSourceId(): string | null {\n\t\treturn this.store.getState().dragOperation.sourceId\n\t}\n\n\tpublic getTargetIds(): string[] {\n\t\treturn this.store.getState().dragOperation.targetIds\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.store.getState().dragOperation.dropResult\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.store.getState().dragOperation.didDrop\n\t}\n\n\tpublic isSourcePublic(): boolean {\n\t\treturn Boolean(this.store.getState().dragOperation.isSourcePublic)\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.initialClientOffset\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.initialSourceClientOffset\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.clientOffset\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn getSourceClientOffset(this.store.getState().dragOffset)\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn getDifferenceFromInitialOffset(this.store.getState().dragOffset)\n\t}\n}\n","import { asap } from '@react-dnd/asap'\nimport { invariant } from '@react-dnd/invariant'\nimport type { Store } from 'redux'\n\nimport {\n\taddSource,\n\taddTarget,\n\tremoveSource,\n\tremoveTarget,\n} from '../actions/registry.js'\nimport {\n\tvalidateSourceContract,\n\tvalidateTargetContract,\n\tvalidateType,\n} from '../contracts.js'\nimport type {\n\tDragSource,\n\tDropTarget,\n\tHandlerRegistry,\n\tIdentifier,\n\tSourceType,\n\tTargetType,\n} from '../interfaces.js'\nimport { HandlerRole } from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport { getNextUniqueId } from '../utils/getNextUniqueId.js'\n\nfunction getNextHandlerId(role: HandlerRole): string {\n\tconst id = getNextUniqueId().toString()\n\tswitch (role) {\n\t\tcase HandlerRole.SOURCE:\n\t\t\treturn `S${id}`\n\t\tcase HandlerRole.TARGET:\n\t\t\treturn `T${id}`\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown Handler Role: ${role}`)\n\t}\n}\n\nfunction parseRoleFromHandlerId(handlerId: string) {\n\tswitch (handlerId[0]) {\n\t\tcase 'S':\n\t\t\treturn HandlerRole.SOURCE\n\t\tcase 'T':\n\t\t\treturn HandlerRole.TARGET\n\t\tdefault:\n\t\t\tthrow new Error(`Cannot parse handler ID: ${handlerId}`)\n\t}\n}\n\nfunction mapContainsValue<T>(map: Map<string, T>, searchValue: T) {\n\tconst entries = map.entries()\n\tlet isDone = false\n\tdo {\n\t\tconst {\n\t\t\tdone,\n\t\t\tvalue: [, value],\n\t\t} = entries.next()\n\t\tif (value === searchValue) {\n\t\t\treturn true\n\t\t}\n\t\tisDone = !!done\n\t} while (!isDone)\n\treturn false\n}\n\nexport class HandlerRegistryImpl implements HandlerRegistry {\n\tprivate types: Map<string, SourceType | TargetType> = new Map()\n\tprivate dragSources: Map<string, DragSource> = new Map()\n\tprivate dropTargets: Map<string, DropTarget> = new Map()\n\tprivate pinnedSourceId: string | null = null\n\tprivate pinnedSource: any = null\n\tprivate store: Store<State>\n\n\tpublic constructor(store: Store<State>) {\n\t\tthis.store = store\n\t}\n\n\tpublic addSource(type: SourceType, source: DragSource): string {\n\t\tvalidateType(type)\n\t\tvalidateSourceContract(source)\n\n\t\tconst sourceId = this.addHandler(HandlerRole.SOURCE, type, source)\n\t\tthis.store.dispatch(addSource(sourceId))\n\t\treturn sourceId\n\t}\n\n\tpublic addTarget(type: TargetType, target: DropTarget): string {\n\t\tvalidateType(type, true)\n\t\tvalidateTargetContract(target)\n\n\t\tconst targetId = this.addHandler(HandlerRole.TARGET, type, target)\n\t\tthis.store.dispatch(addTarget(targetId))\n\t\treturn targetId\n\t}\n\n\tpublic containsHandler(handler: DragSource | DropTarget): boolean {\n\t\treturn (\n\t\t\tmapContainsValue(this.dragSources, handler) ||\n\t\t\tmapContainsValue(this.dropTargets, handler)\n\t\t)\n\t}\n\n\tpublic getSource(sourceId: string, includePinned = false): DragSource {\n\t\tinvariant(this.isSourceId(sourceId), 'Expected a valid source ID.')\n\t\tconst isPinned = includePinned && sourceId === this.pinnedSourceId\n\t\tconst source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId)\n\t\treturn source\n\t}\n\n\tpublic getTarget(targetId: string): DropTarget {\n\t\tinvariant(this.isTargetId(targetId), 'Expected a valid target ID.')\n\t\treturn this.dropTargets.get(targetId) as DropTarget\n\t}\n\n\tpublic getSourceType(sourceId: string): Identifier {\n\t\tinvariant(this.isSourceId(sourceId), 'Expected a valid source ID.')\n\t\treturn this.types.get(sourceId) as Identifier\n\t}\n\n\tpublic getTargetType(targetId: string): Identifier | Identifier[] {\n\t\tinvariant(this.isTargetId(targetId), 'Expected a valid target ID.')\n\t\treturn this.types.get(targetId) as Identifier | Identifier[]\n\t}\n\n\tpublic isSourceId(handlerId: string): boolean {\n\t\tconst role = parseRoleFromHandlerId(handlerId)\n\t\treturn role === HandlerRole.SOURCE\n\t}\n\n\tpublic isTargetId(handlerId: string): boolean {\n\t\tconst role = parseRoleFromHandlerId(handlerId)\n\t\treturn role === HandlerRole.TARGET\n\t}\n\n\tpublic removeSource(sourceId: string): void {\n\t\tinvariant(this.getSource(sourceId), 'Expected an existing source.')\n\t\tthis.store.dispatch(removeSource(sourceId))\n\t\tasap(() => {\n\t\t\tthis.dragSources.delete(sourceId)\n\t\t\tthis.types.delete(sourceId)\n\t\t})\n\t}\n\n\tpublic removeTarget(targetId: string): void {\n\t\tinvariant(this.getTarget(targetId), 'Expected an existing target.')\n\t\tthis.store.dispatch(removeTarget(targetId))\n\t\tthis.dropTargets.delete(targetId)\n\t\tthis.types.delete(targetId)\n\t}\n\n\tpublic pinSource(sourceId: string): void {\n\t\tconst source = this.getSource(sourceId)\n\t\tinvariant(source, 'Expected an existing source.')\n\n\t\tthis.pinnedSourceId = sourceId\n\t\tthis.pinnedSource = source\n\t}\n\n\tpublic unpinSource(): void {\n\t\tinvariant(this.pinnedSource, 'No source is pinned at the time.')\n\n\t\tthis.pinnedSourceId = null\n\t\tthis.pinnedSource = null\n\t}\n\n\tprivate addHandler(\n\t\trole: HandlerRole,\n\t\ttype: SourceType | TargetType,\n\t\thandler: DragSource | DropTarget,\n\t): string {\n\t\tconst id = getNextHandlerId(role)\n\t\tthis.types.set(id, type)\n\t\tif (role === HandlerRole.SOURCE) {\n\t\t\tthis.dragSources.set(id, handler as DragSource)\n\t\t} else if (role === HandlerRole.TARGET) {\n\t\t\tthis.dropTargets.set(id, handler as DropTarget)\n\t\t}\n\t\treturn id\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type { DragSource, DropTarget, Identifier } from './interfaces.js'\n\nexport function validateSourceContract(source: DragSource): void {\n\tinvariant(\n\t\ttypeof source.canDrag === 'function',\n\t\t'Expected canDrag to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof source.beginDrag === 'function',\n\t\t'Expected beginDrag to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof source.endDrag === 'function',\n\t\t'Expected endDrag to be a function.',\n\t)\n}\n\nexport function validateTargetContract(target: DropTarget): void {\n\tinvariant(\n\t\ttypeof target.canDrop === 'function',\n\t\t'Expected canDrop to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof target.hover === 'function',\n\t\t'Expected hover to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof target.drop === 'function',\n\t\t'Expected beginDrag to be a function.',\n\t)\n}\n\nexport function validateType(\n\ttype: Identifier | Identifier[],\n\tallowArray?: boolean,\n): void {\n\tif (allowArray && Array.isArray(type)) {\n\t\ttype.forEach((t) => validateType(t, false))\n\t\treturn\n\t}\n\n\tinvariant(\n\t\ttypeof type === 'string' || typeof type === 'symbol',\n\t\tallowArray\n\t\t\t? 'Type can only be a string, a symbol, or an array of either.'\n\t\t\t: 'Type can only be a string or a symbol.',\n\t)\n}\n","import type { Store } from 'redux'\nimport { createStore } from 'redux'\n\nimport { DragDropManagerImpl } from './classes/DragDropManagerImpl.js'\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl.js'\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl.js'\nimport type { BackendFactory, DragDropManager } from './interfaces.js'\nimport type { State } from './reducers/index.js'\nimport { reduce } from './reducers/index.js'\n\nexport function createDragDropManager(\n\tbackendFactory: BackendFactory,\n\tglobalContext: unknown = undefined,\n\tbackendOptions: unknown = {},\n\tdebugMode = false,\n): DragDropManager {\n\tconst store = makeStoreInstance(debugMode)\n\tconst monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store))\n\tconst manager = new DragDropManagerImpl(store, monitor)\n\tconst backend = backendFactory(manager, globalContext, backendOptions)\n\tmanager.receiveBackend(backend)\n\treturn manager\n}\n\nfunction makeStoreInstance(debugMode: boolean): Store<State> {\n\t// TODO: if we ever make a react-native version of this,\n\t// we'll need to consider how to pull off dev-tooling\n\tconst reduxDevTools =\n\t\ttypeof window !== 'undefined' &&\n\t\t(window as any).__REDUX_DEVTOOLS_EXTENSION__\n\treturn createStore(\n\t\treduce,\n\t\tdebugMode &&\n\t\t\treduxDevTools &&\n\t\t\treduxDevTools({\n\t\t\t\tname: 'dnd-core',\n\t\t\t\tinstanceId: 'dnd-core',\n\t\t\t}),\n\t)\n}\n","export type Identifier = string | symbol\nexport type SourceType = Identifier\nexport type TargetType = Identifier | Identifier[]\nexport type Unsubscribe = () => void\nexport type Listener = () => void\n\nexport interface XYCoord {\n\tx: number\n\ty: number\n}\n\nexport enum HandlerRole {\n\tSOURCE = 'SOURCE',\n\tTARGET = 'TARGET',\n}\n\nexport interface Backend {\n\tsetup(): void\n\tteardown(): void\n\tconnectDragSource(sourceId: any, node?: any, options?: any): Unsubscribe\n\tconnectDragPreview(sourceId: any, node?: any, options?: any): Unsubscribe\n\tconnectDropTarget(targetId: any, node?: any, options?: any): Unsubscribe\n\tprofile(): Record<string, number>\n}\n\nexport interface DragDropMonitor {\n\tsubscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: {\n\t\t\thandlerIds?: Identifier[]\n\t\t},\n\t): Unsubscribe\n\tsubscribeToOffsetChange(listener: Listener): Unsubscribe\n\tcanDragSource(sourceId: Identifier | undefined): boolean\n\tcanDropOnTarget(targetId: Identifier | undefined): boolean\n\n\t/**\n\t * Returns true if a drag operation is in progress, and either the owner initiated the drag, or its isDragging()\n\t * is defined and returns true.\n\t */\n\tisDragging(): boolean\n\tisDraggingSource(sourceId: Identifier | undefined): boolean\n\tisOverTarget(\n\t\ttargetId: Identifier | undefined,\n\t\toptions?: {\n\t\t\tshallow?: boolean\n\t\t},\n\t): boolean\n\n\t/**\n\t * Returns a string or a symbol identifying the type of the current dragged item. Returns null if no item is being dragged.\n\t */\n\tgetItemType(): Identifier | null\n\n\t/**\n\t * Returns a plain object representing the currently dragged item. Every drag source must specify it by returning an object\n\t * from its beginDrag() method. Returns null if no item is being dragged.\n\t */\n\tgetItem(): any\n\tgetSourceId(): Identifier | null\n\tgetTargetIds(): Identifier[]\n\t/**\n\t * Returns a plain object representing the last recorded drop result. The drop targets may optionally specify it by returning an\n\t * object from their drop() methods. When a chain of drop() is dispatched for the nested targets, bottom up, any parent that\n\t * explicitly returns its own result from drop() overrides the child drop result previously set by the child. Returns null if\n\t * called outside endDrag().\n\t */\n\tgetDropResult(): any\n\t/**\n\t * Returns true if some drop target has handled the drop event, false otherwise. Even if a target did not return a drop result,\n\t * didDrop() returns true. Use it inside endDrag() to test whether any drop target has handled the drop. Returns false if called\n\t * outside endDrag().\n\t */\n\tdidDrop(): boolean\n\tisSourcePublic(): boolean | null\n\t/**\n\t * Returns the { x, y } client offset of the pointer at the time when the current drag operation has started.\n\t * Returns null if no item is being dragged.\n\t */\n\tgetInitialClientOffset(): XYCoord | null\n\t/**\n\t * Returns the { x, y } client offset of the drag source component's root DOM node at the time when the current drag\n\t * operation has started. Returns null if no item is being dragged.\n\t */\n\tgetInitialSourceClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the last recorded { x, y } client offset of the pointer while a drag operation is in progress.\n\t * Returns null if no item is being dragged.\n\t */\n\tgetClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the projected { x, y } client offset of the drag source component's root DOM node, based on its position at the time\n\t * when the current drag operation has started, and the movement difference. Returns null if no item is being dragged.\n\t */\n\tgetSourceClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the { x, y } difference between the last recorded client offset of the pointer and the client offset when the current\n\t * drag operation has started. Returns null if no item is being dragged.\n\t */\n\tgetDifferenceFromInitialOffset(): XYCoord | null\n}\n\nexport interface HandlerRegistry {\n\taddSource(type: SourceType, source: DragSource): Identifier\n\taddTarget(type: TargetType, target: DropTarget): Identifier\n\tcontainsHandler(handler: DragSource | DropTarget): boolean\n\tgetSource(sourceId: Identifier, includePinned?: boolean): DragSource\n\tgetSourceType(sourceId: Identifier): SourceType\n\tgetTargetType(targetId: Identifier): TargetType\n\tgetTarget(targetId: Identifier): DropTarget\n\tisSourceId(handlerId: Identifier): boolean\n\tisTargetId(handlerId: Identifier): boolean\n\tremoveSource(sourceId: Identifier): void\n\tremoveTarget(targetId: Identifier): void\n\tpinSource(sourceId: Identifier): void\n\tunpinSource(): void\n}\n\nexport interface Action<Payload> {\n\ttype: Identifier\n\tpayload: Payload\n}\nexport interface SentinelAction {\n\ttype: Identifier\n}\n\nexport type ActionCreator<Payload> = (args: any[]) => Action<Payload>\n\nexport interface BeginDragOptions {\n\tpublishSource?: boolean\n\tclientOffset?: XYCoord\n\tgetSourceClientOffset?: (sourceId: Identifier | undefined) => XYCoord\n}\n\nexport interface InitCoordsPayload {\n\tclientOffset: XYCoord | null\n\tsourceClientOffset: XYCoord | null\n}\n\nexport interface BeginDragPayload {\n\titemType: Identifier\n\titem: any\n\tsourceId: Identifier\n\tclientOffset: XYCoord | null\n\tsourceClientOffset: XYCoord | null\n\tisSourcePublic: boolean\n}\n\nexport interface HoverPayload {\n\ttargetIds: Identifier[]\n\tclientOffset: XYCoord | null\n}\n\nexport interface HoverOptions {\n\tclientOffset?: XYCoord\n}\n\nexport interface DropPayload {\n\tdropResult: any\n}\n\nexport interface TargetIdPayload {\n\ttargetId: Identifier\n}\n\nexport interface SourceIdPayload {\n\tsourceId: Identifier\n}\n\nexport interface DragDropActions {\n\tbeginDrag(\n\t\tsourceIds?: Identifier[],\n\t\toptions?: any,\n\t): Action<BeginDragPayload> | undefined\n\tpublishDragSource(): SentinelAction | undefined\n\thover(targetIds: Identifier[], options?: any): Action<HoverPayload>\n\tdrop(options?: any): void\n\tendDrag(): SentinelAction\n}\n\nexport interface DragDropManager {\n\tgetMonitor(): DragDropMonitor\n\tgetBackend(): Backend\n\tgetRegistry(): HandlerRegistry\n\tgetActions(): DragDropActions\n\tdispatch(action: any): void\n}\n\nexport type BackendFactory = (\n\tmanager: DragDropManager,\n\tglobalContext?: any,\n\tconfiguration?: any,\n) => Backend\n\nexport interface DragSource {\n\tbeginDrag(monitor: DragDropMonitor, targetId: Identifier): void\n\tendDrag(monitor: DragDropMonitor, targetId: Identifier): void\n\tcanDrag(monitor: DragDropMonitor, targetId: Identifier): boolean\n\tisDragging(monitor: DragDropMonitor, targetId: Identifier): boolean\n}\n\nexport interface DropTarget {\n\tcanDrop(monitor: DragDropMonitor, targetId: Identifier): boolean\n\thover(monitor: DragDropMonitor, targetId: Identifier): void\n\tdrop(monitor: DragDropMonitor, targetId: Identifier): any\n}\n","import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tPUBLISH_DRAG_SOURCE,\n} from '../actions/dragDrop/index.js'\nimport {\n\tADD_SOURCE,\n\tADD_TARGET,\n\tREMOVE_SOURCE,\n\tREMOVE_TARGET,\n} from '../actions/registry.js'\nimport type { Action } from '../interfaces.js'\nimport { ALL, NONE } from '../utils/dirtiness.js'\nimport { areArraysEqual } from '../utils/equality.js'\nimport { xor } from '../utils/js_utils.js'\n\nexport type State = string[]\n\nexport interface DirtyHandlerIdPayload {\n\ttargetIds: string[]\n\tprevTargetIds: string[]\n}\n\nexport function reduce(\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t_state: State = NONE,\n\taction: Action<DirtyHandlerIdPayload>,\n): State {\n\tswitch (action.type) {\n\t\tcase HOVER:\n\t\t\tbreak\n\t\tcase ADD_SOURCE:\n\t\tcase ADD_TARGET:\n\t\tcase REMOVE_TARGET:\n\t\tcase REMOVE_SOURCE:\n\t\t\treturn NONE\n\t\tcase BEGIN_DRAG:\n\t\tcase PUBLISH_DRAG_SOURCE:\n\t\tcase END_DRAG:\n\t\tcase DROP:\n\t\tdefault:\n\t\t\treturn ALL\n\t}\n\n\tconst { targetIds = [], prevTargetIds = [] } = action.payload\n\tconst result = xor(targetIds, prevTargetIds)\n\tconst didChange =\n\t\tresult.length > 0 || !areArraysEqual(targetIds, prevTargetIds)\n\n\tif (!didChange) {\n\t\treturn NONE\n\t}\n\n\t// Check the target ids at the innermost position. If they are valid, add them\n\t// to the result\n\tconst prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1]\n\tconst innermostTargetId = targetIds[targetIds.length - 1]\n\tif (prevInnermostTargetId !== innermostTargetId) {\n\t\tif (prevInnermostTargetId) {\n\t\t\tresult.push(prevInnermostTargetId)\n\t\t}\n\t\tif (innermostTargetId) {\n\t\t\tresult.push(innermostTargetId)\n\t\t}\n\t}\n\n\treturn result\n}\n","import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tINIT_COORDS,\n} from '../actions/dragDrop/index.js'\nimport type { Action, XYCoord } from '../interfaces.js'\nimport { areCoordsEqual } from '../utils/equality.js'\n\nexport interface State {\n\tinitialSourceClientOffset: XYCoord | null\n\tinitialClientOffset: XYCoord | null\n\tclientOffset: XYCoord | null\n}\n\nconst initialState: State = {\n\tinitialSourceClientOffset: null,\n\tinitialClientOffset: null,\n\tclientOffset: null,\n}\n\nexport function reduce(\n\tstate: State = initialState,\n\taction: Action<{\n\t\tsourceClientOffset: XYCoord\n\t\tclientOffset: XYCoord\n\t}>,\n): State {\n\tconst { payload } = action\n\tswitch (action.type) {\n\t\tcase INIT_COORDS:\n\t\tcase BEGIN_DRAG:\n\t\t\treturn {\n\t\t\t\tinitialSourceClientOffset: payload.sourceClientOffset,\n\t\t\t\tinitialClientOffset: payload.clientOffset,\n\t\t\t\tclientOffset: payload.clientOffset,\n\t\t\t}\n\t\tcase HOVER:\n\t\t\tif (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclientOffset: payload.clientOffset,\n\t\t\t}\n\t\tcase END_DRAG:\n\t\tcase DROP:\n\t\t\treturn initialState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tPUBLISH_DRAG_SOURCE,\n} from '../actions/dragDrop/index.js'\nimport { REMOVE_TARGET } from '../actions/registry.js'\nimport type { Action, Identifier } from '../interfaces.js'\nimport { without } from '../utils/js_utils.js'\n\nexport interface State {\n\titemType: Identifier | Identifier[] | null\n\titem: any\n\tsourceId: string | null\n\ttargetIds: string[]\n\tdropResult: any\n\tdidDrop: boolean\n\tisSourcePublic: boolean | null\n}\n\nconst initialState: State = {\n\titemType: null,\n\titem: null,\n\tsourceId: null,\n\ttargetIds: [],\n\tdropResult: null,\n\tdidDrop: false,\n\tisSourcePublic: null,\n}\n\nexport function reduce(\n\tstate: State = initialState,\n\taction: Action<{\n\t\titemType: Identifier | Identifier[]\n\t\titem: any\n\t\tsourceId: string\n\t\ttargetId: string\n\t\ttargetIds: string[]\n\t\tisSourcePublic: boolean\n\t\tdropResult: any\n\t}>,\n): State {\n\tconst { payload } = action\n\tswitch (action.type) {\n\t\tcase BEGIN_DRAG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titemType: payload.itemType,\n\t\t\t\titem: payload.item,\n\t\t\t\tsourceId: payload.sourceId,\n\t\t\t\tisSourcePublic: payload.isSourcePublic,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t}\n\t\tcase PUBLISH_DRAG_SOURCE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSourcePublic: true,\n\t\t\t}\n\t\tcase HOVER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttargetIds: payload.targetIds,\n\t\t\t}\n\t\tcase REMOVE_TARGET:\n\t\t\tif (state.targetIds.indexOf(payload.targetId) === -1) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttargetIds: without(state.targetIds, payload.targetId),\n\t\t\t}\n\t\tcase DROP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdropResult: payload.dropResult,\n\t\t\t\tdidDrop: true,\n\t\t\t\ttargetIds: [],\n\t\t\t}\n\t\tcase END_DRAG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titemType: null,\n\t\t\t\titem: null,\n\t\t\t\tsourceId: null,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t\tisSourcePublic: null,\n\t\t\t\ttargetIds: [],\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import type { Action } from '../interfaces.js'\nimport { get } from '../utils/js_utils.js'\nimport type { State as DirtyHandlerIdsState } from './dirtyHandlerIds.js'\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds.js'\nimport type { State as DragOffsetState } from './dragOffset.js'\nimport { reduce as dragOffset } from './dragOffset.js'\nimport type { State as DragOperationState } from './dragOperation.js'\nimport { reduce as dragOperation } from './dragOperation.js'\nimport type { State as RefCountState } from './refCount.js'\nimport { reduce as refCount } from './refCount.js'\nimport type { State as StateIdState } from './stateId.js'\nimport { reduce as stateId } from './stateId.js'\n\nexport interface State {\n\tdirtyHandlerIds: DirtyHandlerIdsState\n\tdragOffset: DragOffsetState\n\trefCount: RefCountState\n\tdragOperation: DragOperationState\n\tstateId: StateIdState\n}\n\nexport function reduce(state: State = {} as State, action: Action<any>): State {\n\treturn {\n\t\tdirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n\t\t\ttype: action.type,\n\t\t\tpayload: {\n\t\t\t\t...action.payload,\n\t\t\t\tprevTargetIds: get<string[]>(state, 'dragOperation.targetIds', []),\n\t\t\t},\n\t\t}),\n\t\tdragOffset: dragOffset(state.dragOffset, action),\n\t\trefCount: refCount(state.refCount, action),\n\t\tdragOperation: dragOperation(state.dragOperation, action),\n\t\tstateId: stateId(state.stateId),\n\t}\n}\n","import {\n\tADD_SOURCE,\n\tADD_TARGET,\n\tREMOVE_SOURCE,\n\tREMOVE_TARGET,\n} from '../actions/registry.js'\nimport type { Action } from '../interfaces.js'\n\nexport type State = number\n\nexport function reduce(state: State = 0, action: Action<any>): State {\n\tswitch (action.type) {\n\t\tcase ADD_SOURCE:\n\t\tcase ADD_TARGET:\n\t\t\treturn state + 1\n\t\tcase REMOVE_SOURCE:\n\t\tcase REMOVE_TARGET:\n\t\t\treturn state - 1\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","export type State = number\n\nexport function reduce(state: State = 0): State {\n\treturn state + 1\n}\n","import type { XYCoord } from '../interfaces.js'\nimport type { State } from '../reducers/dragOffset.js'\n\n/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a: XYCoord, b: XYCoord): XYCoord {\n\treturn {\n\t\tx: a.x + b.x,\n\t\ty: a.y + b.y,\n\t}\n}\n\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function subtract(a: XYCoord, b: XYCoord): XYCoord {\n\treturn {\n\t\tx: a.x - b.x,\n\t\ty: a.y - b.y,\n\t}\n}\n\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\nexport function getSourceClientOffset(state: State): XYCoord | null {\n\tconst { clientOffset, initialClientOffset, initialSourceClientOffset } = state\n\tif (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n\t\treturn null\n\t}\n\treturn subtract(\n\t\tadd(clientOffset, initialSourceClientOffset),\n\t\tinitialClientOffset,\n\t)\n}\n\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\nexport function getDifferenceFromInitialOffset(state: State): XYCoord | null {\n\tconst { clientOffset, initialClientOffset } = state\n\tif (!clientOffset || !initialClientOffset) {\n\t\treturn null\n\t}\n\treturn subtract(clientOffset, initialClientOffset)\n}\n","import { intersection } from './js_utils.js'\n\nexport const NONE: string[] = []\nexport const ALL: string[] = []\n// Add these flags for debug\n;(NONE as any).__IS_NONE__ = true\n;(ALL as any).__IS_ALL__ = true\n\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\nexport function areDirty(\n\tdirtyIds: string[],\n\thandlerIds: string[] | undefined,\n): boolean {\n\tif (dirtyIds === NONE) {\n\t\treturn false\n\t}\n\n\tif (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n\t\treturn true\n\t}\n\n\tconst commonIds = intersection(handlerIds, dirtyIds)\n\treturn commonIds.length > 0\n}\n","import type { XYCoord } from '../interfaces.js'\n\nexport type EqualityCheck<T> = (a: T, b: T) => boolean\nexport const strictEquality = <T>(a: T, b: T): boolean => a === b\n\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\nexport function areCoordsEqual(\n\toffsetA: XYCoord | null | undefined,\n\toffsetB: XYCoord | null | undefined,\n): boolean {\n\tif (!offsetA && !offsetB) {\n\t\treturn true\n\t} else if (!offsetA || !offsetB) {\n\t\treturn false\n\t} else {\n\t\treturn offsetA.x === offsetB.x && offsetA.y === offsetB.y\n\t}\n}\n\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\nexport function areArraysEqual<T>(\n\ta: T[],\n\tb: T[],\n\tisEqual: EqualityCheck<T> = strictEquality,\n): boolean {\n\tif (a.length !== b.length) {\n\t\treturn false\n\t}\n\tfor (let i = 0; i < a.length; ++i) {\n\t\tif (!isEqual(a[i] as T, b[i] as T)) {\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n","let nextUniqueId = 0\n\nexport function getNextUniqueId(): number {\n\treturn nextUniqueId++\n}\n","// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get<T>(obj: any, path: string, defaultValue: T): T {\n\treturn path\n\t\t.split('.')\n\t\t.reduce((a, c) => (a && a[c] ? a[c] : defaultValue || null), obj) as T\n}\n\n/**\n * drop-in replacement for _.without\n */\nexport function without<T>(items: T[], item: T): T[] {\n\treturn items.filter((i) => i !== item)\n}\n\n/**\n * drop-in replacement for _.isString\n * @param input\n */\nexport function isString(input: any): boolean {\n\treturn typeof input === 'string'\n}\n\n/**\n * drop-in replacement for _.isString\n * @param input\n */\nexport function isObject(input: any): boolean {\n\treturn typeof input === 'object'\n}\n\n/**\n * replacement for _.xor\n * @param itemsA\n * @param itemsB\n */\nexport function xor<T extends string | number>(itemsA: T[], itemsB: T[]): T[] {\n\tconst map = new Map<T, number>()\n\tconst insertItem = (item: T) => {\n\t\tmap.set(item, map.has(item) ? (map.get(item) as number) + 1 : 1)\n\t}\n\titemsA.forEach(insertItem)\n\titemsB.forEach(insertItem)\n\n\tconst result: T[] = []\n\tmap.forEach((count, key) => {\n\t\tif (count === 1) {\n\t\t\tresult.push(key)\n\t\t}\n\t})\n\treturn result\n}\n\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\nexport function intersection<T>(itemsA: T[], itemsB: T[]): T[] {\n\treturn itemsA.filter((t) => itemsB.indexOf(t) > -1)\n}\n","import type { Identifier } from '../interfaces.js'\n\nexport function matchesType(\n\ttargetType: Identifier | Identifier[] | null,\n\tdraggedItemType: Identifier | null,\n): boolean {\n\tif (draggedItemType === null) {\n\t\treturn targetType === null\n\t}\n\treturn Array.isArray(targetType)\n\t\t? (targetType as Identifier[]).some((t) => t === draggedItemType)\n\t\t: targetType === draggedItemType\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import type { DragDropManager } from 'dnd-core'\nimport { createContext } from 'react'\n\n/**\n * The React context type\n */\nexport interface DndContextType {\n\tdragDropManager: DragDropManager | undefined\n}\n\n/**\n * Create the React Context\n */\nexport const DndContext = createContext<DndContextType>({\n\tdragDropManager: undefined,\n})\n","import type { BackendFactory, DragDropManager } from 'dnd-core'\nimport { createDragDropManager } from 'dnd-core'\nimport type { FC, ReactNode } from 'react'\nimport { memo, useEffect } from 'react'\n\nimport { DndContext } from './DndContext.js'\n\nexport type DndProviderProps<BackendContext, BackendOptions> =\n\t| {\n\t\t\tchildren?: ReactNode\n\t\t\tmanager: DragDropManager\n\t  }\n\t| {\n\t\t\tbackend: BackendFactory\n\t\t\tchildren?: ReactNode\n\t\t\tcontext?: BackendContext\n\t\t\toptions?: BackendOptions\n\t\t\tdebugMode?: boolean\n\t  }\n\nlet refCount = 0\nconst INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__')\n\n/**\n * A React component that provides the React-DnD context\n */\nexport const DndProvider: FC<DndProviderProps<unknown, unknown>> = memo(\n\tfunction DndProvider({ children, ...props }) {\n\t\tconst [manager, isGlobalInstance] = getDndContextValue(props) // memoized from props\n\t\t/**\n\t\t * If the global context was used to store the DND context\n\t\t * then where theres no more references to it we should\n\t\t * clean it up to avoid memory leaks\n\t\t */\n\t\tuseEffect(() => {\n\t\t\tif (isGlobalInstance) {\n\t\t\t\tconst context = getGlobalContext()\n\t\t\t\t++refCount\n\n\t\t\t\treturn () => {\n\t\t\t\t\tif (--refCount === 0) {\n\t\t\t\t\t\tcontext[INSTANCE_SYM] = null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn\n\t\t}, [])\n\n\t\treturn <DndContext.Provider value={manager}>{children}</DndContext.Provider>\n\t},\n)\n\nfunction getDndContextValue(props: DndProviderProps<unknown, unknown>) {\n\tif ('manager' in props) {\n\t\tconst manager = { dragDropManager: props.manager }\n\t\treturn [manager, false]\n\t}\n\n\tconst manager = createSingletonDndContext(\n\t\tprops.backend,\n\t\tprops.context,\n\t\tprops.options,\n\t\tprops.debugMode,\n\t)\n\tconst isGlobalInstance = !props.context\n\n\treturn [manager, isGlobalInstance]\n}\n\nfunction createSingletonDndContext<BackendContext, BackendOptions>(\n\tbackend: BackendFactory,\n\tcontext: BackendContext = getGlobalContext(),\n\toptions: BackendOptions,\n\tdebugMode?: boolean,\n) {\n\tconst ctx = context as any\n\tif (!ctx[INSTANCE_SYM]) {\n\t\tctx[INSTANCE_SYM] = {\n\t\t\tdragDropManager: createDragDropManager(\n\t\t\t\tbackend,\n\t\t\t\tcontext,\n\t\t\t\toptions,\n\t\t\t\tdebugMode,\n\t\t\t),\n\t\t}\n\t}\n\treturn ctx[INSTANCE_SYM]\n}\n\ndeclare const global: any\nfunction getGlobalContext() {\n\treturn typeof global !== 'undefined' ? global : (window as any)\n}\n","import type { FC } from 'react'\nimport { memo, useEffect } from 'react'\n\nimport type { ConnectDragPreview } from '../types/index.js'\n\nexport interface DragPreviewImageProps {\n\tconnect: ConnectDragPreview\n\tsrc: string\n}\n/**\n * A utility for rendering a drag preview image\n */\nexport const DragPreviewImage: FC<DragPreviewImageProps> = memo(\n\tfunction DragPreviewImage({ connect, src }) {\n\t\tuseEffect(() => {\n\t\t\tif (typeof Image === 'undefined') return\n\n\t\t\tlet connected = false\n\t\t\tconst img = new Image()\n\t\t\timg.src = src\n\t\t\timg.onload = () => {\n\t\t\t\tconnect(img)\n\t\t\t\tconnected = true\n\t\t\t}\n\t\t\treturn () => {\n\t\t\t\tif (connected) {\n\t\t\t\t\tconnect(null)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\treturn null\n\t},\n)\n","export * from './DndContext.js'\nexport * from './DndProvider.js'\nexport * from './DragPreviewImage.js'\n","export * from './types.js'\nexport * from './useDrag/index.js'\nexport * from './useDragDropManager.js'\nexport * from './useDragLayer.js'\nexport * from './useDrop/index.js'\n","import type { Connector } from '../internals/index.js'\nimport type { HandlerManager, MonitorEventEmitter } from '../types/index.js'\nimport { useMonitorOutput } from './useMonitorOutput.js'\n\nexport function useCollectedProps<Collected, Monitor extends HandlerManager>(\n\tcollector: ((monitor: Monitor) => Collected) | undefined,\n\tmonitor: Monitor & MonitorEventEmitter,\n\tconnector: Connector,\n) {\n\treturn useMonitorOutput(monitor, collector || (() => ({} as Collected)), () =>\n\t\tconnector.reconnect(),\n\t)\n}\n","import equal from 'fast-deep-equal'\nimport { useCallback, useState } from 'react'\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js'\n\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\nexport function useCollector<T, S>(\n\tmonitor: T,\n\tcollect: (monitor: T) => S,\n\tonUpdate?: () => void,\n): [S, () => void] {\n\tconst [collected, setCollected] = useState(() => collect(monitor))\n\n\tconst updateCollected = useCallback(() => {\n\t\tconst nextValue = collect(monitor)\n\t\t// This needs to be a deep-equality check because some monitor-collected values\n\t\t// include XYCoord objects that may be equivalent, but do not have instance equality.\n\t\tif (!equal(collected, nextValue)) {\n\t\t\tsetCollected(nextValue)\n\t\t\tif (onUpdate) {\n\t\t\t\tonUpdate()\n\t\t\t}\n\t\t}\n\t}, [collected, monitor, onUpdate])\n\n\t// update the collected properties after react renders.\n\t// Note that the \"Dustbin Stress Test\" fails if this is not\n\t// done when the component updates\n\tuseIsomorphicLayoutEffect(updateCollected)\n\n\treturn [collected, updateCollected]\n}\n","import type { DragDropMonitor, DragSource, Identifier } from 'dnd-core'\n\nimport type { Connector } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragObjectFactory, DragSourceHookSpec } from '../types.js'\n\nexport class DragSourceImpl<O, R, P> implements DragSource {\n\tpublic constructor(\n\t\tpublic spec: DragSourceHookSpec<O, R, P>,\n\t\tprivate monitor: DragSourceMonitor<O, R>,\n\t\tprivate connector: Connector,\n\t) {}\n\n\tpublic beginDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\n\t\tlet result: O | null = null\n\t\tif (typeof spec.item === 'object') {\n\t\t\tresult = spec.item as O\n\t\t} else if (typeof spec.item === 'function') {\n\t\t\tresult = (spec.item as DragObjectFactory<O>)(monitor)\n\t\t} else {\n\t\t\tresult = {} as O\n\t\t}\n\t\treturn result ?? null\n\t}\n\n\tpublic canDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (typeof spec.canDrag === 'boolean') {\n\t\t\treturn spec.canDrag\n\t\t} else if (typeof spec.canDrag === 'function') {\n\t\t\treturn spec.canDrag(monitor)\n\t\t} else {\n\t\t\treturn true\n\t\t}\n\t}\n\n\tpublic isDragging(globalMonitor: DragDropMonitor, target: Identifier) {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tconst { isDragging } = spec\n\t\treturn isDragging\n\t\t\t? isDragging(monitor)\n\t\t\t: target === globalMonitor.getSourceId()\n\t}\n\n\tpublic endDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tconst connector = this.connector\n\t\tconst { end } = spec\n\t\tif (end) {\n\t\t\tend(monitor.getItem(), monitor)\n\t\t}\n\t\tconnector.reconnect()\n\t}\n}\n","import { useMemo } from 'react'\n\nimport type { SourceConnector } from '../../internals/index.js'\n\nexport function useConnectDragSource(connector: SourceConnector) {\n\treturn useMemo(() => connector.hooks.dragSource(), [connector])\n}\n\nexport function useConnectDragPreview(connector: SourceConnector) {\n\treturn useMemo(() => connector.hooks.dragPreview(), [connector])\n}\n","export * from './useDrag.js'\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tConnectDragPreview,\n\tConnectDragSource,\n} from '../../types/index.js'\nimport type { DragSourceHookSpec, FactoryOrInstance } from '../types.js'\nimport { useCollectedProps } from '../useCollectedProps.js'\nimport { useOptionalFactory } from '../useOptionalFactory.js'\nimport { useConnectDragPreview, useConnectDragSource } from './connectors.js'\nimport { useDragSourceConnector } from './useDragSourceConnector.js'\nimport { useDragSourceMonitor } from './useDragSourceMonitor.js'\nimport { useRegisteredDragSource } from './useRegisteredDragSource.js'\n\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\nexport function useDrag<\n\tDragObject = unknown,\n\tDropResult = unknown,\n\tCollectedProps = unknown,\n>(\n\tspecArg: FactoryOrInstance<\n\t\tDragSourceHookSpec<DragObject, DropResult, CollectedProps>\n\t>,\n\tdeps?: unknown[],\n): [CollectedProps, ConnectDragSource, ConnectDragPreview] {\n\tconst spec = useOptionalFactory(specArg, deps)\n\tinvariant(\n\t\t!(spec as any).begin,\n\t\t`useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)`,\n\t)\n\n\tconst monitor = useDragSourceMonitor<DragObject, DropResult>()\n\tconst connector = useDragSourceConnector(spec.options, spec.previewOptions)\n\tuseRegisteredDragSource(spec, monitor, connector)\n\n\treturn [\n\t\tuseCollectedProps(spec.collect, monitor, connector),\n\t\tuseConnectDragSource(connector),\n\t\tuseConnectDragPreview(connector),\n\t]\n}\n","import { useEffect, useMemo } from 'react'\n\nimport type { Connector } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragSourceHookSpec } from '../types.js'\nimport { DragSourceImpl } from './DragSourceImpl.js'\n\nexport function useDragSource<O, R, P>(\n\tspec: DragSourceHookSpec<O, R, P>,\n\tmonitor: DragSourceMonitor<O, R>,\n\tconnector: Connector,\n) {\n\tconst handler = useMemo(\n\t\t() => new DragSourceImpl(spec, monitor, connector),\n\t\t[monitor, connector],\n\t)\n\tuseEffect(() => {\n\t\thandler.spec = spec\n\t}, [spec])\n\treturn handler\n}\n","import { useMemo } from 'react'\n\nimport { SourceConnector } from '../../internals/index.js'\nimport type {\n\tDragPreviewOptions,\n\tDragSourceOptions,\n} from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\n\nexport function useDragSourceConnector(\n\tdragSourceOptions: DragSourceOptions | undefined,\n\tdragPreviewOptions: DragPreviewOptions | undefined,\n): SourceConnector {\n\tconst manager = useDragDropManager()\n\tconst connector = useMemo(\n\t\t() => new SourceConnector(manager.getBackend()),\n\t\t[manager],\n\t)\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragSourceOptions = dragSourceOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragSource()\n\t}, [connector, dragSourceOptions])\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragPreviewOptions = dragPreviewOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragPreview()\n\t}, [connector, dragPreviewOptions])\n\treturn connector\n}\n","import { useMemo } from 'react'\n\nimport { DragSourceMonitorImpl } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\n\nexport function useDragSourceMonitor<O, R>(): DragSourceMonitor<O, R> {\n\tconst manager = useDragDropManager()\n\treturn useMemo<DragSourceMonitor<O, R>>(\n\t\t() => new DragSourceMonitorImpl(manager),\n\t\t[manager],\n\t)\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { Identifier } from 'dnd-core'\nimport { useMemo } from 'react'\n\nimport type { DragSourceHookSpec } from '../types.js'\n\nexport function useDragType(\n\tspec: DragSourceHookSpec<any, any, any>,\n): Identifier {\n\treturn useMemo(() => {\n\t\tconst result: Identifier = spec.type\n\t\tinvariant(result != null, 'spec.type must be defined')\n\t\treturn result\n\t}, [spec])\n}\n","import type { SourceConnector } from '../../internals/index.js'\nimport { registerSource } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragSourceHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useDragSource } from './useDragSource.js'\nimport { useDragType } from './useDragType.js'\n\nexport function useRegisteredDragSource<O, R, P>(\n\tspec: DragSourceHookSpec<O, R, P>,\n\tmonitor: DragSourceMonitor<O, R>,\n\tconnector: SourceConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst handler = useDragSource(spec, monitor, connector)\n\tconst itemType = useDragType(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDragSource() {\n\t\t\tif (itemType != null) {\n\t\t\t\tconst [handlerId, unregister] = registerSource(\n\t\t\t\t\titemType,\n\t\t\t\t\thandler,\n\t\t\t\t\tmanager,\n\t\t\t\t)\n\t\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\t\treturn unregister\n\t\t\t}\n\t\t\treturn\n\t\t},\n\t\t[manager, monitor, connector, handler, itemType],\n\t)\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { DragDropManager } from 'dnd-core'\nimport { useContext } from 'react'\n\nimport { DndContext } from '../core/index.js'\n\n/**\n * A hook to retrieve the DragDropManager from Context\n */\nexport function useDragDropManager(): DragDropManager {\n\tconst { dragDropManager } = useContext(DndContext)\n\tinvariant(dragDropManager != null, 'Expected drag drop context')\n\treturn dragDropManager as DragDropManager\n}\n","import { useEffect } from 'react'\n\nimport type { DragLayerMonitor } from '../types/index.js'\nimport { useCollector } from './useCollector.js'\nimport { useDragDropManager } from './useDragDropManager.js'\n\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\nexport function useDragLayer<CollectedProps, DragObject = any>(\n\tcollect: (monitor: DragLayerMonitor<DragObject>) => CollectedProps,\n): CollectedProps {\n\tconst dragDropManager = useDragDropManager()\n\tconst monitor = dragDropManager.getMonitor()\n\tconst [collected, updateCollected] = useCollector(monitor, collect)\n\n\tuseEffect(() => monitor.subscribeToOffsetChange(updateCollected))\n\tuseEffect(() => monitor.subscribeToStateChange(updateCollected))\n\treturn collected\n}\n","import type { DropTarget } from 'dnd-core'\n\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\n\nexport class DropTargetImpl<O, R, P> implements DropTarget {\n\tpublic constructor(\n\t\tpublic spec: DropTargetHookSpec<O, R, P>,\n\t\tprivate monitor: DropTargetMonitor<O, R>,\n\t) {}\n\n\tpublic canDrop() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\treturn spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true\n\t}\n\n\tpublic hover() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (spec.hover) {\n\t\t\tspec.hover(monitor.getItem(), monitor)\n\t\t}\n\t}\n\n\tpublic drop() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (spec.drop) {\n\t\t\treturn spec.drop(monitor.getItem(), monitor)\n\t\t}\n\t\treturn\n\t}\n}\n","import { useMemo } from 'react'\n\nimport type { TargetConnector } from '../../internals/index.js'\n\nexport function useConnectDropTarget(connector: TargetConnector) {\n\treturn useMemo(() => connector.hooks.dropTarget(), [connector])\n}\n","export * from './useDrop.js'\n","import { invariant } from '@react-dnd/invariant'\nimport type { Identifier } from 'dnd-core'\nimport { useMemo } from 'react'\n\nimport type { DropTargetHookSpec } from '../types.js'\n\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\nexport function useAccept<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n): Identifier[] {\n\tconst { accept } = spec\n\treturn useMemo(() => {\n\t\tinvariant(spec.accept != null, 'accept must be defined')\n\t\treturn Array.isArray(accept) ? accept : [accept]\n\t}, [accept])\n}\n","import type { ConnectDropTarget } from '../../types/index.js'\nimport type { DropTargetHookSpec, FactoryOrInstance } from '../types.js'\nimport { useCollectedProps } from '../useCollectedProps.js'\nimport { useOptionalFactory } from '../useOptionalFactory.js'\nimport { useConnectDropTarget } from './connectors.js'\nimport { useDropTargetConnector } from './useDropTargetConnector.js'\nimport { useDropTargetMonitor } from './useDropTargetMonitor.js'\nimport { useRegisteredDropTarget } from './useRegisteredDropTarget.js'\n\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\nexport function useDrop<\n\tDragObject = unknown,\n\tDropResult = unknown,\n\tCollectedProps = unknown,\n>(\n\tspecArg: FactoryOrInstance<\n\t\tDropTargetHookSpec<DragObject, DropResult, CollectedProps>\n\t>,\n\tdeps?: unknown[],\n): [CollectedProps, ConnectDropTarget] {\n\tconst spec = useOptionalFactory(specArg, deps)\n\tconst monitor = useDropTargetMonitor<DragObject, DropResult>()\n\tconst connector = useDropTargetConnector(spec.options)\n\tuseRegisteredDropTarget(spec, monitor, connector)\n\n\treturn [\n\t\tuseCollectedProps(spec.collect, monitor, connector),\n\t\tuseConnectDropTarget(connector),\n\t]\n}\n","import { useEffect, useMemo } from 'react'\n\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\nimport { DropTargetImpl } from './DropTargetImpl.js'\n\nexport function useDropTarget<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n\tmonitor: DropTargetMonitor<O, R>,\n) {\n\tconst dropTarget = useMemo(() => new DropTargetImpl(spec, monitor), [monitor])\n\tuseEffect(() => {\n\t\tdropTarget.spec = spec\n\t}, [spec])\n\treturn dropTarget\n}\n","import { useMemo } from 'react'\n\nimport { TargetConnector } from '../../internals/index.js'\nimport type { DropTargetOptions } from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\n\nexport function useDropTargetConnector(\n\toptions: DropTargetOptions,\n): TargetConnector {\n\tconst manager = useDragDropManager()\n\tconst connector = useMemo(\n\t\t() => new TargetConnector(manager.getBackend()),\n\t\t[manager],\n\t)\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dropTargetOptions = options || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDropTarget()\n\t}, [options])\n\treturn connector\n}\n","import { useMemo } from 'react'\n\nimport { DropTargetMonitorImpl } from '../../internals/index.js'\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\n\nexport function useDropTargetMonitor<O, R>(): DropTargetMonitor<O, R> {\n\tconst manager = useDragDropManager()\n\treturn useMemo(() => new DropTargetMonitorImpl(manager), [manager])\n}\n","import type { TargetConnector } from '../../internals/index.js'\nimport { registerTarget } from '../../internals/index.js'\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useAccept } from './useAccept.js'\nimport { useDropTarget } from './useDropTarget.js'\n\nexport function useRegisteredDropTarget<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n\tmonitor: DropTargetMonitor<O, R>,\n\tconnector: TargetConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst dropTarget = useDropTarget(spec, monitor)\n\tconst accept = useAccept(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDropTarget() {\n\t\t\tconst [handlerId, unregister] = registerTarget(\n\t\t\t\taccept,\n\t\t\t\tdropTarget,\n\t\t\t\tmanager,\n\t\t\t)\n\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\treturn unregister\n\t\t},\n\t\t[\n\t\t\tmanager,\n\t\t\tmonitor,\n\t\t\tdropTarget,\n\t\t\tconnector,\n\t\t\taccept.map((a) => a.toString()).join('|'),\n\t\t],\n\t)\n}\n","import { useEffect, useLayoutEffect } from 'react'\n\n// suppress the useLayoutEffect warning on server side.\nexport const useIsomorphicLayoutEffect =\n\ttypeof window !== 'undefined' ? useLayoutEffect : useEffect\n","import type { HandlerManager, MonitorEventEmitter } from '../types/index.js'\nimport { useCollector } from './useCollector.js'\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js'\n\nexport function useMonitorOutput<Monitor extends HandlerManager, Collected>(\n\tmonitor: Monitor & MonitorEventEmitter,\n\tcollect: (monitor: Monitor) => Collected,\n\tonCollect?: () => void,\n): Collected {\n\tconst [collected, updateCollected] = useCollector(monitor, collect, onCollect)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction subscribeToMonitorStateChange() {\n\t\t\tconst handlerId = monitor.getHandlerId()\n\t\t\tif (handlerId == null) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn monitor.subscribeToStateChange(updateCollected, {\n\t\t\t\thandlerIds: [handlerId],\n\t\t\t})\n\t\t},\n\t\t[monitor, updateCollected],\n\t)\n\n\treturn collected\n}\n","import { useMemo } from 'react'\n\nimport type { FactoryOrInstance } from './types.js'\n\nexport function useOptionalFactory<T>(\n\targ: FactoryOrInstance<T>,\n\tdeps?: unknown[],\n): T {\n\tconst memoDeps = [...(deps || [])]\n\tif (deps == null && typeof arg !== 'function') {\n\t\tmemoDeps.push(arg)\n\t}\n\treturn useMemo<T>(() => {\n\t\treturn typeof arg === 'function' ? (arg as () => T)() : (arg as T)\n\t}, memoDeps)\n}\n","export * from './core/index.js'\nexport * from './hooks/index.js'\nexport * from './types/index.js'\n","import { invariant } from '@react-dnd/invariant'\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport type { DragSourceMonitor } from '../types/index.js'\n\nlet isCallingCanDrag = false\nlet isCallingIsDragging = false\n\nexport class DragSourceMonitorImpl implements DragSourceMonitor {\n\tprivate internalMonitor: DragDropMonitor\n\tprivate sourceId: Identifier | null = null\n\n\tpublic constructor(manager: DragDropManager) {\n\t\tthis.internalMonitor = manager.getMonitor()\n\t}\n\n\tpublic receiveHandlerId(sourceId: Identifier | null): void {\n\t\tthis.sourceId = sourceId\n\t}\n\n\tpublic getHandlerId(): Identifier | null {\n\t\treturn this.sourceId\n\t}\n\n\tpublic canDrag(): boolean {\n\t\tinvariant(\n\t\t\t!isCallingCanDrag,\n\t\t\t'You may not call monitor.canDrag() inside your canDrag() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingCanDrag = true\n\t\t\treturn this.internalMonitor.canDragSource(this.sourceId as Identifier)\n\t\t} finally {\n\t\t\tisCallingCanDrag = false\n\t\t}\n\t}\n\n\tpublic isDragging(): boolean {\n\t\tif (!this.sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tinvariant(\n\t\t\t!isCallingIsDragging,\n\t\t\t'You may not call monitor.isDragging() inside your isDragging() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingIsDragging = true\n\t\t\treturn this.internalMonitor.isDraggingSource(this.sourceId)\n\t\t} finally {\n\t\t\tisCallingIsDragging = false\n\t\t}\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: { handlerIds?: Identifier[] },\n\t): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToStateChange(listener, options)\n\t}\n\n\tpublic isDraggingSource(sourceId: Identifier): boolean {\n\t\treturn this.internalMonitor.isDraggingSource(sourceId)\n\t}\n\n\tpublic isOverTarget(\n\t\ttargetId: Identifier,\n\t\toptions?: { shallow: boolean },\n\t): boolean {\n\t\treturn this.internalMonitor.isOverTarget(targetId, options)\n\t}\n\n\tpublic getTargetIds(): Identifier[] {\n\t\treturn this.internalMonitor.getTargetIds()\n\t}\n\n\tpublic isSourcePublic(): boolean | null {\n\t\treturn this.internalMonitor.isSourcePublic()\n\t}\n\n\tpublic getSourceId(): Identifier | null {\n\t\treturn this.internalMonitor.getSourceId()\n\t}\n\n\tpublic subscribeToOffsetChange(listener: Listener): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToOffsetChange(listener)\n\t}\n\n\tpublic canDragSource(sourceId: Identifier): boolean {\n\t\treturn this.internalMonitor.canDragSource(sourceId)\n\t}\n\n\tpublic canDropOnTarget(targetId: Identifier): boolean {\n\t\treturn this.internalMonitor.canDropOnTarget(targetId)\n\t}\n\n\tpublic getItemType(): Identifier | null {\n\t\treturn this.internalMonitor.getItemType()\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.internalMonitor.getItem()\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.internalMonitor.getDropResult()\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.internalMonitor.didDrop()\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialClientOffset()\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialSourceClientOffset()\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getSourceClientOffset()\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getClientOffset()\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getDifferenceFromInitialOffset()\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport type { DropTargetMonitor } from '../types/index.js'\n\nlet isCallingCanDrop = false\n\nexport class DropTargetMonitorImpl implements DropTargetMonitor {\n\tprivate internalMonitor: DragDropMonitor\n\tprivate targetId: Identifier | null = null\n\n\tpublic constructor(manager: DragDropManager) {\n\t\tthis.internalMonitor = manager.getMonitor()\n\t}\n\n\tpublic receiveHandlerId(targetId: Identifier | null): void {\n\t\tthis.targetId = targetId\n\t}\n\n\tpublic getHandlerId(): Identifier | null {\n\t\treturn this.targetId\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: { handlerIds?: Identifier[] },\n\t): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToStateChange(listener, options)\n\t}\n\n\tpublic canDrop(): boolean {\n\t\t// Cut out early if the target id has not been set. This should prevent errors\n\t\t// where the user has an older version of dnd-core like in\n\t\t// https://github.com/react-dnd/react-dnd/issues/1310\n\t\tif (!this.targetId) {\n\t\t\treturn false\n\t\t}\n\t\tinvariant(\n\t\t\t!isCallingCanDrop,\n\t\t\t'You may not call monitor.canDrop() inside your canDrop() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingCanDrop = true\n\t\t\treturn this.internalMonitor.canDropOnTarget(this.targetId)\n\t\t} finally {\n\t\t\tisCallingCanDrop = false\n\t\t}\n\t}\n\n\tpublic isOver(options?: { shallow?: boolean }): boolean {\n\t\tif (!this.targetId) {\n\t\t\treturn false\n\t\t}\n\t\treturn this.internalMonitor.isOverTarget(this.targetId, options)\n\t}\n\n\tpublic getItemType(): Identifier | null {\n\t\treturn this.internalMonitor.getItemType()\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.internalMonitor.getItem()\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.internalMonitor.getDropResult()\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.internalMonitor.didDrop()\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialClientOffset()\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialSourceClientOffset()\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getSourceClientOffset()\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getClientOffset()\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getDifferenceFromInitialOffset()\n\t}\n}\n","import { shallowEqual } from '@react-dnd/shallowequal'\nimport type { Backend, Identifier, Unsubscribe } from 'dnd-core'\nimport type { ReactElement, Ref, RefObject } from 'react'\n\nimport type { DragPreviewOptions, DragSourceOptions } from '../types/index.js'\nimport { isRef } from './isRef.js'\nimport { wrapConnectorHooks } from './wrapConnectorHooks.js'\n\nexport interface Connector {\n\thooks: any\n\tconnectTarget: any\n\treceiveHandlerId(handlerId: Identifier | null): void\n\treconnect(): void\n}\n\nexport class SourceConnector implements Connector {\n\tpublic hooks = wrapConnectorHooks({\n\t\tdragSource: (\n\t\t\tnode: Element | ReactElement | Ref<any>,\n\t\t\toptions?: DragSourceOptions,\n\t\t) => {\n\t\t\tthis.clearDragSource()\n\t\t\tthis.dragSourceOptions = options || null\n\t\t\tif (isRef(node)) {\n\t\t\t\tthis.dragSourceRef = node as RefObject<any>\n\t\t\t} else {\n\t\t\t\tthis.dragSourceNode = node\n\t\t\t}\n\t\t\tthis.reconnectDragSource()\n\t\t},\n\t\tdragPreview: (node: any, options?: DragPreviewOptions) => {\n\t\t\tthis.clearDragPreview()\n\t\t\tthis.dragPreviewOptions = options || null\n\t\t\tif (isRef(node)) {\n\t\t\t\tthis.dragPreviewRef = node\n\t\t\t} else {\n\t\t\t\tthis.dragPreviewNode = node\n\t\t\t}\n\t\t\tthis.reconnectDragPreview()\n\t\t},\n\t})\n\tprivate handlerId: Identifier | null = null\n\n\t// The drop target may either be attached via ref or connect function\n\tprivate dragSourceRef: RefObject<any> | null = null\n\tprivate dragSourceNode: any\n\tprivate dragSourceOptionsInternal: DragSourceOptions | null = null\n\tprivate dragSourceUnsubscribe: Unsubscribe | undefined\n\n\t// The drag preview may either be attached via ref or connect function\n\tprivate dragPreviewRef: RefObject<any> | null = null\n\tprivate dragPreviewNode: any\n\tprivate dragPreviewOptionsInternal: DragPreviewOptions | null = null\n\tprivate dragPreviewUnsubscribe: Unsubscribe | undefined\n\n\tprivate lastConnectedHandlerId: Identifier | null = null\n\tprivate lastConnectedDragSource: any = null\n\tprivate lastConnectedDragSourceOptions: any = null\n\tprivate lastConnectedDragPreview: any = null\n\tprivate lastConnectedDragPreviewOptions: any = null\n\n\tprivate readonly backend: Backend\n\n\tpublic constructor(backend: Backend) {\n\t\tthis.backend = backend\n\t}\n\n\tpublic receiveHandlerId(newHandlerId: Identifier | null): void {\n\t\tif (this.handlerId === newHandlerId) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.handlerId = newHandlerId\n\t\tthis.reconnect()\n\t}\n\n\tpublic get connectTarget(): any {\n\t\treturn this.dragSource\n\t}\n\n\tpublic get dragSourceOptions(): DragSourceOptions | null {\n\t\treturn this.dragSourceOptionsInternal\n\t}\n\tpublic set dragSourceOptions(options: DragSourceOptions | null) {\n\t\tthis.dragSourceOptionsInternal = options\n\t}\n\n\tpublic get dragPreviewOptions(): DragPreviewOptions | null {\n\t\treturn this.dragPreviewOptionsInternal\n\t}\n\n\tpublic set dragPreviewOptions(options: DragPreviewOptions | null) {\n\t\tthis.dragPreviewOptionsInternal = options\n\t}\n\n\tpublic reconnect(): void {\n\t\tconst didChange = this.reconnectDragSource()\n\t\tthis.reconnectDragPreview(didChange)\n\t}\n\n\tprivate reconnectDragSource(): boolean {\n\t\tconst dragSource = this.dragSource\n\t\t// if nothing has changed then don't resubscribe\n\t\tconst didChange =\n\t\t\tthis.didHandlerIdChange() ||\n\t\t\tthis.didConnectedDragSourceChange() ||\n\t\t\tthis.didDragSourceOptionsChange()\n\n\t\tif (didChange) {\n\t\t\tthis.disconnectDragSource()\n\t\t}\n\n\t\tif (!this.handlerId) {\n\t\t\treturn didChange\n\t\t}\n\t\tif (!dragSource) {\n\t\t\tthis.lastConnectedDragSource = dragSource\n\t\t\treturn didChange\n\t\t}\n\n\t\tif (didChange) {\n\t\t\tthis.lastConnectedHandlerId = this.handlerId\n\t\t\tthis.lastConnectedDragSource = dragSource\n\t\t\tthis.lastConnectedDragSourceOptions = this.dragSourceOptions\n\t\t\tthis.dragSourceUnsubscribe = this.backend.connectDragSource(\n\t\t\t\tthis.handlerId,\n\t\t\t\tdragSource,\n\t\t\t\tthis.dragSourceOptions,\n\t\t\t)\n\t\t}\n\t\treturn didChange\n\t}\n\n\tprivate reconnectDragPreview(forceDidChange = false): void {\n\t\tconst dragPreview = this.dragPreview\n\t\t// if nothing has changed then don't resubscribe\n\t\tconst didChange =\n\t\t\tforceDidChange ||\n\t\t\tthis.didHandlerIdChange() ||\n\t\t\tthis.didConnectedDragPreviewChange() ||\n\t\t\tthis.didDragPreviewOptionsChange()\n\n\t\tif (didChange) {\n\t\t\tthis.disconnectDragPreview()\n\t\t}\n\n\t\tif (!this.handlerId) {\n\t\t\treturn\n\t\t}\n\t\tif (!dragPreview) {\n\t\t\tthis.lastConnectedDragPreview = dragPreview\n\t\t\treturn\n\t\t}\n\n\t\tif (didChange) {\n\t\t\tthis.lastConnectedHandlerId = this.handlerId\n\t\t\tthis.lastConnectedDragPreview = dragPreview\n\t\t\tthis.lastConnectedDragPreviewOptions = this.dragPreviewOptions\n\t\t\tthis.dragPreviewUnsubscribe = this.backend.connectDragPreview(\n\t\t\t\tthis.handlerId,\n\t\t\t\tdragPreview,\n\t\t\t\tthis.dragPreviewOptions,\n\t\t\t)\n\t\t}\n\t}\n\n\tprivate didHandlerIdChange(): boolean {\n\t\treturn this.lastConnectedHandlerId !== this.handlerId\n\t}\n\n\tprivate didConnectedDragSourceChange(): boolean {\n\t\treturn this.lastConnectedDragSource !== this.dragSource\n\t}\n\n\tprivate didConnectedDragPreviewChange(): boolean {\n\t\treturn this.lastConnectedDragPreview !== this.dragPreview\n\t}\n\n\tprivate didDragSourceOptionsChange(): boolean {\n\t\treturn !shallowEqual(\n\t\t\tthis.lastConnectedDragSourceOptions,\n\t\t\tthis.dragSourceOptions,\n\t\t)\n\t}\n\n\tprivate didDragPreviewOptionsChange(): boolean {\n\t\treturn !shallowEqual(\n\t\t\tthis.lastConnectedDragPreviewOptions,\n\t\t\tthis.dragPreviewOptions,\n\t\t)\n\t}\n\n\tpublic disconnectDragSource() {\n\t\tif (this.dragSourceUnsubscribe) {\n\t\t\tthis.dragSourceUnsubscribe()\n\t\t\tthis.dragSourceUnsubscribe = undefined\n\t\t}\n\t}\n\n\tpublic disconnectDragPreview() {\n\t\tif (this.dragPreviewUnsubscribe) {\n\t\t\tthis.dragPreviewUnsubscribe()\n\t\t\tthis.dragPreviewUnsubscribe = undefined\n\t\t\tthis.dragPreviewNode = null\n\t\t\tthis.dragPreviewRef = null\n\t\t}\n\t}\n\n\tprivate get dragSource() {\n\t\treturn (\n\t\t\tthis.dragSourceNode || (this.dragSourceRef && this.dragSourceRef.current)\n\t\t)\n\t}\n\n\tprivate get dragPreview() {\n\t\treturn (\n\t\t\tthis.dragPreviewNode ||\n\t\t\t(this.dragPreviewRef && this.dragPreviewRef.current)\n\t\t)\n\t}\n\n\tprivate clearDragSource() {\n\t\tthis.dragSourceNode = null\n\t\tthis.dragSourceRef = null\n\t}\n\n\tprivate clearDragPreview() {\n\t\tthis.dragPreviewNode = null\n\t\tthis.dragPreviewRef = null\n\t}\n}\n","import { shallowEqual } from '@react-dnd/shallowequal'\nimport type { Backend, Identifier, Unsubscribe } from 'dnd-core'\nimport type { RefObject } from 'react'\n\nimport type { DropTargetOptions } from '../types/index.js'\nimport { isRef } from './isRef.js'\nimport type { Connector } from './SourceConnector.js'\nimport { wrapConnectorHooks } from './wrapConnectorHooks.js'\n\nexport class TargetConnector implements Connector {\n\tpublic hooks = wrapConnectorHooks({\n\t\tdropTarget: (node: any, options: DropTargetOptions) => {\n\t\t\tthis.clearDropTarget()\n\t\t\tthis.dropTargetOptions = options\n\t\t\tif (isRef(node)) {\n\t\t\t\tthis.dropTargetRef = node\n\t\t\t} else {\n\t\t\t\tthis.dropTargetNode = node\n\t\t\t}\n\t\t\tthis.reconnect()\n\t\t},\n\t})\n\n\tprivate handlerId: Identifier | null = null\n\t// The drop target may either be attached via ref or connect function\n\tprivate dropTargetRef: RefObject<any> | null = null\n\tprivate dropTargetNode: any\n\tprivate dropTargetOptionsInternal: DropTargetOptions | null = null\n\tprivate unsubscribeDropTarget: Unsubscribe | undefined\n\n\tprivate lastConnectedHandlerId: Identifier | null = null\n\tprivate lastConnectedDropTarget: any = null\n\tprivate lastConnectedDropTargetOptions: DropTargetOptions | null = null\n\tprivate readonly backend: Backend\n\n\tpublic constructor(backend: Backend) {\n\t\tthis.backend = backend\n\t}\n\n\tpublic get connectTarget(): any {\n\t\treturn this.dropTarget\n\t}\n\n\tpublic reconnect(): void {\n\t\t// if nothing has changed then don't resubscribe\n\t\tconst didChange =\n\t\t\tthis.didHandlerIdChange() ||\n\t\t\tthis.didDropTargetChange() ||\n\t\t\tthis.didOptionsChange()\n\n\t\tif (didChange) {\n\t\t\tthis.disconnectDropTarget()\n\t\t}\n\n\t\tconst dropTarget = this.dropTarget\n\t\tif (!this.handlerId) {\n\t\t\treturn\n\t\t}\n\t\tif (!dropTarget) {\n\t\t\tthis.lastConnectedDropTarget = dropTarget\n\t\t\treturn\n\t\t}\n\n\t\tif (didChange) {\n\t\t\tthis.lastConnectedHandlerId = this.handlerId\n\t\t\tthis.lastConnectedDropTarget = dropTarget\n\t\t\tthis.lastConnectedDropTargetOptions = this.dropTargetOptions\n\n\t\t\tthis.unsubscribeDropTarget = this.backend.connectDropTarget(\n\t\t\t\tthis.handlerId,\n\t\t\t\tdropTarget,\n\t\t\t\tthis.dropTargetOptions,\n\t\t\t)\n\t\t}\n\t}\n\n\tpublic receiveHandlerId(newHandlerId: Identifier | null): void {\n\t\tif (newHandlerId === this.handlerId) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.handlerId = newHandlerId\n\t\tthis.reconnect()\n\t}\n\n\tpublic get dropTargetOptions(): DropTargetOptions {\n\t\treturn this.dropTargetOptionsInternal\n\t}\n\tpublic set dropTargetOptions(options: DropTargetOptions) {\n\t\tthis.dropTargetOptionsInternal = options\n\t}\n\n\tprivate didHandlerIdChange(): boolean {\n\t\treturn this.lastConnectedHandlerId !== this.handlerId\n\t}\n\n\tprivate didDropTargetChange(): boolean {\n\t\treturn this.lastConnectedDropTarget !== this.dropTarget\n\t}\n\n\tprivate didOptionsChange(): boolean {\n\t\treturn !shallowEqual(\n\t\t\tthis.lastConnectedDropTargetOptions,\n\t\t\tthis.dropTargetOptions,\n\t\t)\n\t}\n\n\tpublic disconnectDropTarget() {\n\t\tif (this.unsubscribeDropTarget) {\n\t\t\tthis.unsubscribeDropTarget()\n\t\t\tthis.unsubscribeDropTarget = undefined\n\t\t}\n\t}\n\n\tprivate get dropTarget() {\n\t\treturn (\n\t\t\tthis.dropTargetNode || (this.dropTargetRef && this.dropTargetRef.current)\n\t\t)\n\t}\n\n\tprivate clearDropTarget() {\n\t\tthis.dropTargetRef = null\n\t\tthis.dropTargetNode = null\n\t}\n}\n","export interface Ref<T> {\n\tcurrent: T\n}\n\nexport function isRef(obj: unknown): boolean {\n\treturn (\n\t\t// eslint-disable-next-line no-prototype-builtins\n\t\tobj !== null &&\n\t\ttypeof obj === 'object' &&\n\t\tObject.prototype.hasOwnProperty.call(obj, 'current')\n\t)\n}\n","import type {\n\tDragDropManager,\n\tDragSource,\n\tDropTarget,\n\tIdentifier,\n\tSourceType,\n\tTargetType,\n\tUnsubscribe,\n} from 'dnd-core'\n\nexport function registerTarget(\n\ttype: TargetType,\n\ttarget: DropTarget,\n\tmanager: DragDropManager,\n): [Identifier, Unsubscribe] {\n\tconst registry = manager.getRegistry()\n\tconst targetId = registry.addTarget(type, target)\n\n\treturn [targetId, () => registry.removeTarget(targetId)]\n}\n\nexport function registerSource(\n\ttype: SourceType,\n\tsource: DragSource,\n\tmanager: DragDropManager,\n): [Identifier, Unsubscribe] {\n\tconst registry = manager.getRegistry()\n\tconst sourceId = registry.addSource(type, source)\n\n\treturn [sourceId, () => registry.removeSource(sourceId)]\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { ReactElement } from 'react'\nimport { cloneElement, isValidElement } from 'react'\n\nfunction throwIfCompositeComponentElement(element: ReactElement<any>) {\n\t// Custom components can no longer be wrapped directly in React DnD 2.0\n\t// so that we don't need to depend on findDOMNode() from react-dom.\n\tif (typeof element.type === 'string') {\n\t\treturn\n\t}\n\n\tconst displayName =\n\t\t(element.type as any).displayName || element.type.name || 'the component'\n\n\tthrow new Error(\n\t\t'Only native element nodes can now be passed to React DnD connectors.' +\n\t\t\t`You can either wrap ${displayName} into a <div>, or turn it into a ` +\n\t\t\t'drag source or a drop target itself.',\n\t)\n}\n\nfunction wrapHookToRecognizeElement(hook: (node: any, options: any) => void) {\n\treturn (elementOrNode = null, options = null) => {\n\t\t// When passed a node, call the hook straight away.\n\t\tif (!isValidElement(elementOrNode)) {\n\t\t\tconst node = elementOrNode\n\t\t\thook(node, options)\n\t\t\t// return the node so it can be chained (e.g. when within callback refs\n\t\t\t// <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\t\t\treturn node\n\t\t}\n\n\t\t// If passed a ReactElement, clone it and attach this function as a ref.\n\t\t// This helps us achieve a neat API where user doesn't even know that refs\n\t\t// are being used under the hood.\n\t\tconst element: ReactElement | null = elementOrNode\n\t\tthrowIfCompositeComponentElement(element as any)\n\n\t\t// When no options are passed, use the hook directly\n\t\tconst ref = options ? (node: Element) => hook(node, options) : hook\n\t\treturn cloneWithRef(element, ref)\n\t}\n}\n\nexport function wrapConnectorHooks(hooks: any) {\n\tconst wrappedHooks: any = {}\n\n\tObject.keys(hooks).forEach((key) => {\n\t\tconst hook = hooks[key]\n\n\t\t// ref objects should be passed straight through without wrapping\n\t\tif (key.endsWith('Ref')) {\n\t\t\twrappedHooks[key] = hooks[key]\n\t\t} else {\n\t\t\tconst wrappedHook = wrapHookToRecognizeElement(hook)\n\t\t\twrappedHooks[key] = () => wrappedHook\n\t\t}\n\t})\n\n\treturn wrappedHooks\n}\n\nfunction setRef(ref: any, node: any) {\n\tif (typeof ref === 'function') {\n\t\tref(node)\n\t} else {\n\t\tref.current = node\n\t}\n}\n\nfunction cloneWithRef(element: any, newRef: any): ReactElement<any> {\n\tconst previousRef = element.ref\n\tinvariant(\n\t\ttypeof previousRef !== 'string',\n\t\t'Cannot connect React DnD to an element with an existing string ref. ' +\n\t\t\t'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' +\n\t\t\t'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs',\n\t)\n\n\tif (!previousRef) {\n\t\t// When there is no ref on the element, use the new ref directly\n\t\treturn cloneElement(element, {\n\t\t\tref: newRef,\n\t\t})\n\t} else {\n\t\treturn cloneElement(element, {\n\t\t\tref: (node: any) => {\n\t\t\t\tsetRef(previousRef, node)\n\t\t\t\tsetRef(newRef, node)\n\t\t\t},\n\t\t})\n\t}\n}\n","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n"],"names":["makeRequestCall","makeRequestCallFromTimer","AsapQueue","enqueueTask","task","queue","q","requestFlush","length","flushing","pendingErrors","index","capacity","flush","currentIndex","call","scan","newLength","registerPendingError","err","push","requestErrorThrow","shift","RawTask","error","onError","release","TaskFactory","create","tasks","freeTasks","t","pop","asapQueue","taskFactory","asap","scope","global","self","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","callback","requestCall","timeoutHandle","setTimeout","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","makeRequestCallFromMutationObserver","toggle","observer","node","document","createTextNode","observe","characterData","data","invariant","condition","format","args","isProduction","undefined","Error","argIndex","replace","name","framesToPop","process","env","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","Object","keys","keysB","bHasOwnProperty","prototype","hasOwnProperty","bind","idx","key","valueA","valueB","isObject","setClientOffset","BEGIN_DRAG","INIT_COORDS","ResetCoordinatesAction","type","payload","clientOffset","sourceClientOffset","createBeginDrag","manager","beginDrag","sourceIds","options","publishSource","getSourceClientOffset","monitor","getMonitor","registry","getRegistry","dispatch","verifyInvariants","sourceId","getDraggableSource","verifyGetSourceClientOffsetIsFunction","source","getSource","item","verifyItemIsObject","pinSource","itemType","getSourceType","isSourcePublic","isDragging","forEach","i","canDragSource","DROP","createDrop","drop","targetIds","getDroppableTargets","targetId","dropResult","determineDropResult","action","didDrop","target","getTarget","verifyDropResultType","getDropResult","getTargetIds","filter","canDropOnTarget","reverse","END_DRAG","createEndDrag","endDrag","verifyIsDragging","getSourceId","unpinSource","matchesType","HOVER","createHover","hover","targetIdsArg","verifyTargetIdsIsArray","slice","draggedItemType","getItemType","removeNonMatchingTargetIds","checkInvariants","hoverAllTargets","Array","isArray","lastIndexOf","targetType","getTargetType","splice","createPublishDragSource","createDragDropActions","publishDragSource","PUBLISH_DRAG_SOURCE","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","addSource","addTarget","removeSource","removeTarget","DragDropManagerImpl","receiveBackend","backend","getBackend","getActions","store","bindActionCreator","actionCreator","apply","actions","reduce","boundActions","isSetUp","handleRefCountChange","shouldSetUp","getState","refCount","setup","teardown","subscribe","getDifferenceFromInitialOffset","areDirty","DragDropMonitorImpl","subscribeToStateChange","listener","handlerIds","prevStateId","stateId","handleChange","state","currentStateId","canSkipListener","dirtyHandlerIds","subscribeToOffsetChange","previousState","dragOffset","nextState","canDrag","canDrop","Boolean","isDraggingSource","sourceType","isOverTarget","shallow","indexOf","dragOperation","getItem","getInitialClientOffset","initialClientOffset","getInitialSourceClientOffset","initialSourceClientOffset","getClientOffset","validateSourceContract","validateTargetContract","validateType","HandlerRole","getNextUniqueId","getNextHandlerId","role","id","toString","SOURCE","TARGET","parseRoleFromHandlerId","handlerId","mapContainsValue","map","searchValue","entries","isDone","done","value","next","HandlerRegistryImpl","addHandler","containsHandler","handler","dragSources","dropTargets","includePinned","isSourceId","isPinned","pinnedSourceId","pinnedSource","get","isTargetId","types","delete","set","Map","allowArray","createStore","createDragDropManager","backendFactory","globalContext","backendOptions","debugMode","makeStoreInstance","reduxDevTools","window","__REDUX_DEVTOOLS_EXTENSION__","instanceId","ALL","NONE","areArraysEqual","xor","_state","prevTargetIds","result","didChange","prevInnermostTargetId","innermostTargetId","areCoordsEqual","initialState","without","add","a","b","x","y","subtract","intersection","__IS_NONE__","__IS_ALL__","dirtyIds","commonIds","strictEquality","offsetA","offsetB","isEqual","nextUniqueId","obj","path","defaultValue","split","c","items","isString","input","itemsA","itemsB","insertItem","has","count","some","createContext","DndContext","dragDropManager","memo","useEffect","INSTANCE_SYM","Symbol","for","DndProvider","children","props","isGlobalInstance","getDndContextValue","context","getGlobalContext","Provider","createSingletonDndContext","ctx","DragPreviewImage","connect","src","Image","connected","img","onload","useMonitorOutput","useCollectedProps","collector","connector","reconnect","equal","useCallback","useState","useIsomorphicLayoutEffect","useCollector","collect","onUpdate","collected","setCollected","updateCollected","nextValue","DragSourceImpl","spec","globalMonitor","end","useMemo","useConnectDragSource","hooks","dragSource","useConnectDragPreview","dragPreview","useOptionalFactory","useDragSourceConnector","useDragSourceMonitor","useRegisteredDragSource","useDrag","specArg","deps","begin","previewOptions","useDragSource","SourceConnector","useDragDropManager","dragSourceOptions","dragPreviewOptions","disconnectDragSource","disconnectDragPreview","DragSourceMonitorImpl","useDragType","registerSource","registerDragSource","unregister","receiveHandlerId","useContext","useDragLayer","DropTargetImpl","useConnectDropTarget","dropTarget","useAccept","accept","useDropTargetConnector","useDropTargetMonitor","useRegisteredDropTarget","useDrop","useDropTarget","TargetConnector","dropTargetOptions","disconnectDropTarget","DropTargetMonitorImpl","registerTarget","registerDropTarget","join","useLayoutEffect","onCollect","subscribeToMonitorStateChange","getHandlerId","arg","memoDeps","isCallingCanDrag","isCallingIsDragging","internalMonitor","isCallingCanDrop","isOver","isRef","wrapConnectorHooks","newHandlerId","connectTarget","dragSourceOptionsInternal","dragPreviewOptionsInternal","reconnectDragSource","reconnectDragPreview","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","lastConnectedDragSource","lastConnectedHandlerId","lastConnectedDragSourceOptions","dragSourceUnsubscribe","connectDragSource","forceDidChange","didConnectedDragPreviewChange","didDragPreviewOptionsChange","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","connectDragPreview","dragPreviewNode","dragPreviewRef","dragSourceNode","dragSourceRef","current","clearDragSource","clearDragPreview","didDropTargetChange","didOptionsChange","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","connectDropTarget","dropTargetOptionsInternal","dropTargetNode","dropTargetRef","clearDropTarget","cloneElement","isValidElement","throwIfCompositeComponentElement","element","displayName","wrapHookToRecognizeElement","hook","elementOrNode","ref","cloneWithRef","wrappedHooks","endsWith","wrappedHook","setRef","newRef","previousRef"],"sourceRoot":""}